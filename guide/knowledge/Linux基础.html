<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="yr.ico"><title>Linux基础 | Yanranのblog</title><meta name="description" content="Yanranのblog">
    <link rel="preload" href="/Yanran_blog/assets/style-C2JCxPSn.css" as="style"><link rel="stylesheet" href="/Yanran_blog/assets/style-C2JCxPSn.css">
    <link rel="modulepreload" href="/Yanran_blog/assets/app-O9I-yMSb.js"><link rel="modulepreload" href="/Yanran_blog/assets/Linux基础.html-CipDPX4Y.js">
    <link rel="prefetch" href="/Yanran_blog/assets/index.html-B83skiR_.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/a.html-CipxO90b.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/homepage0.html-PMd3reXw.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/a.html-RksyDIzz.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/科研学术.html-Ds3AnZik.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/网址集合.html-CkcRW9T2.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/软件工具.html-C8s_Mft6.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/a.html-WQjdWtb0.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/C__基础.html-DDa1zBHl.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/C__基础入门.html-JNzPoKfG.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/C__提高编程.html-QnmxiKiZ.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/C__核心编程.html-CM4ROXa_.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/Git基础.html-DSJyvx0V.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/Java基础.html-Da1G11cE.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/MFC.html-DYTICnnp.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/Qt.html-voovaWeN.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/Thead.html-D_4a4PiQ.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/Vue.html-gXH6DE-X.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/Web基础.html-DSDUqB_A.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/操作系统.html-CfXQiCzM.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/数据库.html-eybnGJV4.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/数据结构.html-D1FMYmX0.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/计算机基础.html-Dtl2gY1T.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/计算机编译.html-CLHkvpre.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/计算机网络.html-CbCS4_gn.js" as="script"><link rel="prefetch" href="/Yanran_blog/assets/404.html-U1YEzEHT.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/Yanran_blog/"><img class="vp-site-logo" src="/Yanran_blog/yr.ico" alt="Yanranのblog"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Yanranのblog</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/homepage/homepage0.html" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/knowledge/a.html" aria-label="知识学习"><!--[--><!--[--><!--]--><!--]-->知识学习<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/tool/a.html" aria-label="工具积累"><!--[--><!--[--><!--]--><!--]-->工具积累<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/other/a.html" aria-label="其他"><!--[--><!--[--><!--]--><!--]-->其他<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yanran425/Yanran_blog.git" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/homepage/homepage0.html" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/knowledge/a.html" aria-label="知识学习"><!--[--><!--[--><!--]--><!--]-->知识学习<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/tool/a.html" aria-label="工具积累"><!--[--><!--[--><!--]--><!--]-->工具积累<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Yanran_blog/guide/other/a.html" aria-label="其他"><!--[--><!--[--><!--]--><!--]-->其他<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yanran425/Yanran_blog.git" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">知识学习 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/a.html" aria-label="README"><!--[--><!--[--><!--]--><!--]-->README<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/C__%E5%9F%BA%E7%A1%80.html" aria-label="C++基础"><!--[--><!--[--><!--]--><!--]-->C++基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/C__%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.html" aria-label="C++基础入门"><!--[--><!--[--><!--]--><!--]-->C++基础入门<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/C__%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B.html" aria-label="C++提高编程"><!--[--><!--[--><!--]--><!--]-->C++提高编程<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/C__%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B.html" aria-label="C++核心编程"><!--[--><!--[--><!--]--><!--]-->C++核心编程<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/Git%E5%9F%BA%E7%A1%80.html" aria-label="Git基础"><!--[--><!--[--><!--]--><!--]-->Git基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/Java%E5%9F%BA%E7%A1%80.html" aria-label="Java基础"><!--[--><!--[--><!--]--><!--]-->Java基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/Yanran_blog/guide/knowledge/Linux%E5%9F%BA%E7%A1%80.html" aria-label="Linux基础"><!--[--><!--[--><!--]--><!--]-->Linux基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/MFC.html" aria-label="MFC"><!--[--><!--[--><!--]--><!--]-->MFC<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/Qt.html" aria-label="Qt"><!--[--><!--[--><!--]--><!--]-->Qt<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/Thead.html" aria-label="Thead"><!--[--><!--[--><!--]--><!--]-->Thead<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/Vue.html" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/Web%E5%9F%BA%E7%A1%80.html" aria-label="Web基础"><!--[--><!--[--><!--]--><!--]-->Web基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html" aria-label="操作系统"><!--[--><!--[--><!--]--><!--]-->操作系统<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93.html" aria-label="数据库"><!--[--><!--[--><!--]--><!--]-->数据库<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" aria-label="数据结构"><!--[--><!--[--><!--]--><!--]-->数据结构<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80.html" aria-label="计算机基础"><!--[--><!--[--><!--]--><!--]-->计算机基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BC%96%E8%AF%91.html" aria-label="计算机编译"><!--[--><!--[--><!--]--><!--]-->计算机编译<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Yanran_blog/guide/knowledge/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" aria-label="计算机网络"><!--[--><!--[--><!--]--><!--]-->计算机网络<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="linux基础" tabindex="-1"><a class="header-anchor" href="#linux基础"><span>Linux基础</span></a></h1><h2 id="_1-linux系统概要" tabindex="-1"><a class="header-anchor" href="#_1-linux系统概要"><span>1. Linux系统概要</span></a></h2><h3 id="_1-1-linux特点" tabindex="-1"><a class="header-anchor" href="#_1-1-linux特点"><span>1.1 Linux特点</span></a></h3><ul><li><p>Linux：开放性（开源）、多用户、多任务良好的用户界面、优异的性能与稳定性</p></li><li><p>Windows：是单用户多任务</p></li><li><p>单用户/多用户</p><ul><li>单用户：在登录计算机操作系统时只能允许同时登录==一个==用户</li><li>多用户：在登录计算机操作系统时只能允许同时登录==多个==用户</li></ul></li><li><p>单任务/多任务</p><ul><li>单任务：允许用户同时进行==一个==操作任务数量</li><li>多任务：允许用户同时进行==多个==操作任务数量</li></ul></li></ul><h3 id="_1-2-linux发展" tabindex="-1"><a class="header-anchor" href="#_1-2-linux发展"><span>1.2 Linux发展</span></a></h3><ul><li>RedHat <ul><li>CentOS：完全免费</li><li>Fedora</li><li>Rocky</li><li>AlmaLinux</li></ul></li><li>Debain <ul><li>Ubuntu：视窗界面良好的Linux系统</li><li>Adamantix：基于Debian，特别关注安全。</li></ul></li><li>Slackware <ul><li>Kate OS</li></ul></li></ul><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-8-24Esk3O7.png" alt="600"></p><h3 id="_1-3-文件管理" tabindex="-1"><a class="header-anchor" href="#_1-3-文件管理"><span>1.3 文件管理</span></a></h3><ul><li>Linux 一切皆是文件。</li><li>文件系统：操作系统如何管理文件，内部定义了一些规则和定义。</li><li>Windows是根据盘符进行访问文件的，在Linux中是维护着一个树状结构的文件模型，通过相对路径/绝对路径进行查找文件资源，可以随意挂在磁盘</li></ul><h3 id="_1-4-二级目录" tabindex="-1"><a class="header-anchor" href="#_1-4-二级目录"><span>1.4 二级目录</span></a></h3><table><thead><tr><th style="text-align:center;">目录</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">boot</td><td style="text-align:left;">引导分区</td></tr><tr><td style="text-align:center;">dev</td><td style="text-align:left;">设备信息</td></tr><tr><td style="text-align:center;">bin</td><td style="text-align:left;">可执行文件，例如命令脚本</td></tr><tr><td style="text-align:center;">sbin</td><td style="text-align:left;">管理员可执行文件的命令与脚本</td></tr><tr><td style="text-align:center;">media</td><td style="text-align:left;">多媒体</td></tr><tr><td style="text-align:center;">etc</td><td style="text-align:left;">配置文件目录</td></tr><tr><td style="text-align:center;">lib</td><td style="text-align:left;">类库</td></tr><tr><td style="text-align:center;">mnt</td><td style="text-align:left;">默认挂在磁盘位置</td></tr><tr><td style="text-align:center;">proc</td><td style="text-align:left;">进程信息（非线程）</td></tr><tr><td style="text-align:center;">home</td><td style="text-align:left;">普通用户的家目录</td></tr><tr><td style="text-align:center;">root</td><td style="text-align:left;">root用户的家目录</td></tr><tr><td style="text-align:center;">opt</td><td style="text-align:left;">软件安装位置</td></tr><tr><td style="text-align:center;">usr</td><td style="text-align:left;">多个用户共享的软件区域</td></tr><tr><td style="text-align:center;">run</td><td style="text-align:left;">运行时的系统常量与变量</td></tr><tr><td style="text-align:center;">srv</td><td style="text-align:left;">服务启动后需要提取的数据</td></tr><tr><td style="text-align:center;">sys</td><td style="text-align:left;">系统运行时的内核信息</td></tr><tr><td style="text-align:center;">tmp</td><td style="text-align:left;">临时文件目录，可能重启后清除</td></tr><tr><td style="text-align:center;">var</td><td style="text-align:left;">临时文件目录，重启后不会清除</td></tr></tbody></table><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-1-U1PNvigy.png" alt="600"></p><h3 id="_1-5-配置相关" tabindex="-1"><a class="header-anchor" href="#_1-5-配置相关"><span>1.5 配置相关</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">//<span class="token operator">==</span>配置静态ip</span>
<span class="line"><span class="token function">vi</span> /etc/NetworkManager/system-connections/ens160.nmconnection</span>
<span class="line"></span>
<span class="line">修改<span class="token punctuation">[</span>ipv4<span class="token punctuation">]</span>里面的地址 <span class="token assign-left variable">method</span><span class="token operator">=</span>auto ​ 自动获取改为 <span class="token assign-left variable">method</span><span class="token operator">=</span>manual</span>
<span class="line"><span class="token assign-left variable">address</span><span class="token operator">=</span><span class="token number">192.168</span>.152.139/24,192.168.152.1</span>
<span class="line"><span class="token assign-left variable">dns</span><span class="token operator">=</span><span class="token number">114.114</span>.114.114<span class="token punctuation">;</span><span class="token number">8.8</span>.8.8</span>
<span class="line">:wq<span class="token operator">!</span> <span class="token comment">#保存退出</span></span>
<span class="line"></span>
<span class="line">nmcli connection reload</span>
<span class="line">nmcli connection down ens160 <span class="token comment"># 断开网卡连接</span></span>
<span class="line">nmcli connection up ens160 <span class="token comment"># 激活网卡连接</span></span>
<span class="line">or</span>
<span class="line">systemctl restart NetworkManager</span>
<span class="line">or</span>
<span class="line">重启系统 <span class="token function">reboot</span></span>
<span class="line"></span>
<span class="line">//关闭防火墙</span>
<span class="line">systemctl status firewalld</span>
<span class="line">systemctl disable firewalld</span>
<span class="line">systemctl stop firewalld</span>
<span class="line"></span>
<span class="line">//软件安装限制</span>
<span class="line"><span class="token function">vi</span> /etc/selinux/config</span>
<span class="line"><span class="token comment">#     enforcing - SELinux security policy is enforced.</span></span>
<span class="line"><span class="token comment">#     permissive - SELinux prints warnings instead of enforcing.</span></span>
<span class="line"><span class="token comment">#     disabled - No SELinux policy is loaded.</span></span>
<span class="line"></span>
<span class="line">//修改主机名称</span>
<span class="line"><span class="token function">vi</span> /etc/hostname</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-指令" tabindex="-1"><a class="header-anchor" href="#_2-指令"><span>2. 指令</span></a></h2><h3 id="_2-1-基础指令" tabindex="-1"><a class="header-anchor" href="#_2-1-基础指令"><span>2.1 基础指令</span></a></h3><table><thead><tr><th style="text-align:center;">作用</th><th style="text-align:left;">==基础指令==</th></tr></thead><tbody><tr><td style="text-align:center;">查看文件列表</td><td style="text-align:left;">ls；ll；ll -h；ll -a；ll -ah；（参数是单词就是两个-，是个简写就一个-）</td></tr><tr><td style="text-align:center;">路径切换</td><td style="text-align:left;">cd；pwd；</td></tr><tr><td style="text-align:center;">清屏</td><td style="text-align:left;">clear；Ctrl+L；</td></tr><tr><td style="text-align:center;">手册</td><td style="text-align:left;">man ...；help ...；</td></tr><tr><td style="text-align:center;">重启</td><td style="text-align:left;">reboot；reboot -w；</td></tr><tr><td style="text-align:center;">关机</td><td style="text-align:left;">shutdown；shutdown -h now &#39;关机提示&#39;；init 0；halt；poweroff；</td></tr></tbody></table><h3 id="_2-2-文件指令" tabindex="-1"><a class="header-anchor" href="#_2-2-文件指令"><span>2.2 文件指令</span></a></h3><table><thead><tr><th style="text-align:center;">作用</th><th style="text-align:left;">==文件指令==</th></tr></thead><tbody><tr><td style="text-align:center;">创建文件/目录</td><td style="text-align:left;">mkdir 文件夹名；makdir -p 文件夹名；mkdir -p dianying{A,B,C}；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">touch 文件名；makefile 文件名;</td></tr><tr><td style="text-align:center;">创建软链接</td><td style="text-align:left;">ln -s 原始文件路径地址 快捷方式的路径</td></tr><tr><td style="text-align:center;">创建硬链接</td><td style="text-align:left;">ln 原始文件路径地址 快捷方式的路径（用于防止文件非法删除）</td></tr><tr><td style="text-align:center;">文件/目录操作</td><td style="text-align:left;">cp -r；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">mv；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">rm；rm -r；rm -rf；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">rmdir (只能移动空的目录)；</td></tr><tr><td style="text-align:center;">查看文件/目录信息</td><td style="text-align:left;">stat ...；（最近访问、最近更改、最近改动）</td></tr><tr><td style="text-align:center;">查看文件类型</td><td style="text-align:left;">file ...；file /usr/bin/ping；</td></tr><tr><td style="text-align:center;">文件查看</td><td style="text-align:left;">head ...；head -n ...；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">tail ...；tail -n ...；tail -f ...（f监控的时Inode）；tail -F ...(F监控的是文件名)；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">cat ...；tac ...；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">more；more ...；逐页显示（b,n,空格,回车,q）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">less；less ...；逐页显示（b,n,空格,回车,q）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">wc -lwc ...；</td></tr><tr><td style="text-align:center;">文件编辑</td><td style="text-align:left;">vi ...；</td></tr><tr><td style="text-align:center;">文件搜索</td><td style="text-align:left;">find &lt;路径范围&gt; [选项] &lt;选项的值&gt; ；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">find ./ -name &#39;*.txt&#39;；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">find ./ -type f；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">find ./ -type d |wc -l；</td></tr><tr><td style="text-align:center;">找命令文件的位置</td><td style="text-align:left;">whereis ping：</td></tr><tr><td style="text-align:center;">解/压缩</td><td style="text-align:left;">tar -zx(解压)v(过程)f(文件) ...；tar -zc(压缩)f(文件) 压缩后的名字 源文件；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">unzip ...；zip -r 压缩后的名字 源文件；</td></tr><tr><td style="text-align:center;">重新加载配置文件</td><td style="text-align:left;">source /etc/profile；</td></tr></tbody></table><h3 id="_2-3-状态指令" tabindex="-1"><a class="header-anchor" href="#_2-3-状态指令"><span>2.3 状态指令</span></a></h3><table><thead><tr><th style="text-align:center;">作用</th><th style="text-align:left;">==状态指令==</th></tr></thead><tbody><tr><td style="text-align:center;">查看磁盘分区信息</td><td style="text-align:left;">df；df -h；</td></tr><tr><td style="text-align:center;">查看目录大小</td><td style="text-align:left;">du；du -h --max-depth=1 /etc；</td></tr><tr><td style="text-align:center;">查看块状设备的信息</td><td style="text-align:left;">lsblk（Name:名称，Size:设备大小，Type:类型，MountPoint:挂载点）</td></tr><tr><td style="text-align:center;">内存查看</td><td style="text-align:left;">free；free -m；</td></tr><tr><td style="text-align:center;">使用时间</td><td style="text-align:left;">uptime；</td></tr><tr><td style="text-align:center;">用户信息</td><td style="text-align:left;">id；id 用户名；whoami；</td></tr><tr><td style="text-align:center;">服务管理</td><td style="text-align:left;">service &lt;服务名&gt; start/stop/restart；systemctl stop httpd；</td></tr><tr><td style="text-align:center;">系统内核信息</td><td style="text-align:left;">uname；uname -a；</td></tr><tr><td style="text-align:center;">进程信息</td><td style="text-align:left;">ps；ps -ef；ps -ef | grep panel；pstree -p；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">top（VIRT虚拟内存 RES 常驻内存 SHR 共享内存）；</td></tr><tr><td style="text-align:center;">进程管理</td><td style="text-align:left;">kill ...；killall ...；</td></tr></tbody></table><blockquote><p>[!NOTE] swap是一个特殊的分区，以磁盘代替内存，当内存使用满的时候，可以将一部分数据写出到swap分区。</p></blockquote><h3 id="_2-4-网络指令" tabindex="-1"><a class="header-anchor" href="#_2-4-网络指令"><span>2.4 网络指令</span></a></h3><table><thead><tr><th style="text-align:center;">作用</th><th style="text-align:left;">==网络指令==</th></tr></thead><tbody><tr><td style="text-align:center;">主机名</td><td style="text-align:left;">hostname；hostname -f(显示全限定域名即FQDN)；</td></tr><tr><td style="text-align:center;">修改主机名</td><td style="text-align:left;">hostname ...；vi /etc/hostname；</td></tr><tr><td style="text-align:center;">修改DNS域名</td><td style="text-align:left;">vi /etc/hosts；</td></tr><tr><td style="text-align:center;">网卡信息</td><td style="text-align:left;">ifconfig；</td></tr><tr><td style="text-align:center;">网络状态</td><td style="text-align:left;">netstat -tnlp；netstat -anp；netstat -r；(一个机器默认有65536个端口，即[0,65535])</td></tr><tr><td style="text-align:center;">查看与目标ip是否能够连通</td><td style="text-align:left;">ping ...；</td></tr><tr><td style="text-align:center;">查看与目标ip的指定端口能否连通</td><td style="text-align:left;">telnet [ip地址] [端口号]；</td></tr><tr><td style="text-align:center;">标识指定的资源</td><td style="text-align:left;">curl -X GET ...(restful所有的资源在网络上都有唯一的定位)</td></tr></tbody></table><h3 id="_2-5-输出重定向" tabindex="-1"><a class="header-anchor" href="#_2-5-输出重定向"><span>2.5 输出重定向</span></a></h3><ul><li>改变数据输出的位置/方向</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ll /etc <span class="token operator">&gt;</span> test.txt</span>
<span class="line">ll /opt <span class="token operator">&gt;&gt;</span> test.txt</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token punctuation">..</span>.//输出内容到控制台</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">名称</th><th style="text-align:center;">代码</th><th style="text-align:left;">操作符</th></tr></thead><tbody><tr><td style="text-align:center;">标准输入(stdin)</td><td style="text-align:center;">0</td><td style="text-align:left;">&lt; 或 &lt;&lt;</td></tr><tr><td style="text-align:center;">标准输出(stdout)</td><td style="text-align:center;">1</td><td style="text-align:left;">&gt;, &gt;&gt;, 1&gt; 或 1&gt;&gt;</td></tr><tr><td style="text-align:center;">标准错误输出(stderr)</td><td style="text-align:center;">2</td><td style="text-align:left;">2&gt; 或 2&gt;&gt;</td></tr></tbody></table><blockquote><p>[!NOTE] 2&gt;1 代表将stderr重定向到当前路径下文件名为1的regular file中，而2&gt;&amp;1代表将stderr重定向到文件描述符为1的文件(即/dev/stdout)中，这个文件就是stdout在file system中的映射</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ll /etc <span class="token operator">&gt;</span> test.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span></span>
<span class="line">ll /opt <span class="token operator">&gt;&gt;</span> test.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-6-管道" tabindex="-1"><a class="header-anchor" href="#_2-6-管道"><span>2.6 管道</span></a></h3><ul><li>将前面命令的结果作为参数传递给后面的命令</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">head</span> <span class="token parameter variable">-8</span> /etc/profile <span class="token operator">|</span><span class="token function">tail</span> -1；查看文件第8行内容</span>
<span class="line"><span class="token function">ls</span> <span class="token punctuation">\</span><span class="token operator">|</span><span class="token function">wc</span> -l；//统计文件数</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-7-cut-sort-wc" tabindex="-1"><a class="header-anchor" href="#_2-7-cut-sort-wc"><span>2.7 cut sort wc</span></a></h3><ul><li>cut：用指定的规则来切分文本</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">//以冒号作为分隔符显示第1，2，3列，再过滤包含school的行</span>
<span class="line"><span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token string">&#39;:&#39;</span> <span class="token parameter variable">-f</span> <span class="token number">1,2</span>,3 <span class="token function">passwd</span> <span class="token operator">|</span><span class="token function">grep</span> school</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>sort：对文本进行排序</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">//对文本中的行按照首字母的字典序递增排序</span>
<span class="line"><span class="token function">sort</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//对每一行的文本以冒号进行切割，按照第2列的内容<span class="token punctuation">(</span>字符串<span class="token punctuation">)</span>进行排序</span>
<span class="line"><span class="token function">sort</span> <span class="token parameter variable">-t</span> <span class="token string">&#39;:&#39;</span> <span class="token parameter variable">-k</span> <span class="token number">2</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//对每一行的文本以冒号进行切割，按照第2列的内容<span class="token punctuation">(</span>数字<span class="token punctuation">)</span>进行排序</span>
<span class="line"><span class="token function">sort</span> <span class="token parameter variable">-t</span> <span class="token string">&#39;:&#39;</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-k</span> <span class="token number">2</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//对每一行的文本以冒号进行切割，按照第2列的内容<span class="token punctuation">(</span>数字<span class="token punctuation">)</span>进行排序（逆序）</span>
<span class="line"><span class="token function">sort</span> <span class="token parameter variable">-t</span> <span class="token string">&#39;:&#39;</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-k</span> <span class="token number">2</span> <span class="token function">passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>wc :word count，统计单词数量 <ul><li>-l：行</li><li>-w：word</li><li>-c：char</li></ul></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">wc</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-8-grep" tabindex="-1"><a class="header-anchor" href="#_2-8-grep"><span>2.8 grep</span></a></h3><ul><li>grep (global regular expression) 命令用于查找文件里符合条件的字符串或正则表达式，并将匹配的行打印出来。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">grep</span> <span class="token punctuation">[</span>参数<span class="token punctuation">]</span> pattern <span class="token punctuation">[</span>files<span class="token punctuation">]</span></span>
<span class="line">//pattern表示要查找的字符串或正则表达式。</span>
<span class="line">//files表示要查找的文件名，可以同时查找多个文件，如果省略 files 参数，则默认从标准输入中读取数据。<span class="token punctuation">(</span>find是根据文件名找文件，grep是根据指定输入内容找所在行<span class="token punctuation">)</span></span>
<span class="line">//参数-i：忽略大小写进行匹配。</span>
<span class="line">//参数-v：反向查找，只打印不匹配的行。</span>
<span class="line">//参数-n：显示行号</span>
<span class="line">//参数-E：使用扩展正则表达式进行匹配ERE（默认是基础正则表达式BRE）</span>
<span class="line">//参数-F：纯字符串匹配，不解析正则</span>
<span class="line"></span>
<span class="line">//从ps的输出传递到grep作为输入，查找这些输入中包含“jdk”的行</span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span><span class="token function">grep</span> jdk</span>
<span class="line"></span>
<span class="line">//从文件passwd中查找包含“root”的行</span>
<span class="line"><span class="token function">grep</span> root <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//基础正则查找包含op的行</span>
<span class="line"><span class="token function">grep</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;op.*&quot;</span> <span class="token function">passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-9-sed" tabindex="-1"><a class="header-anchor" href="#_2-9-sed"><span>2.9 sed</span></a></h3><ul><li><code>sed</code>（Stream Editor，流编辑器）的本质是： <ol><li><strong>逐行读取</strong>：从输入（文件 / 管道）中逐行读取文本，放入「模式空间」（临时缓冲区）；</li><li><strong>按规则处理</strong>：对模式空间中的内容执行指定的编辑指令（替换、删除、新增等）；</li><li><strong>输出结果</strong>：处理完一行就输出一行（默认不修改原文件）；</li><li><strong>循环至结束</strong>：直到所有行处理完毕。</li></ol></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">//流式处理文本指令</span>
<span class="line"><span class="token function">sed</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token string">&#39;编辑指令&#39;</span> 输入文件</span>
<span class="line"></span>
<span class="line">//在文件的第二行追加（a）字符串“asdfghjkl”</span>
<span class="line"><span class="token function">sed</span> <span class="token string">&#39;2a asdfghjkl&#39;</span> <span class="token function">passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">选项</th><th>作用</th></tr></thead><tbody><tr><td style="text-align:center;">-i</td><td>直接修改原文件（不加仅输出结果，不改动文件）</td></tr><tr><td style="text-align:center;">-i.bak</td><td>修改原文件的同时，生成 <code>.bak</code> 后缀的备份文件（安全操作）</td></tr><tr><td style="text-align:center;">-e</td><td>执行多个编辑指令（多规则处理）</td></tr><tr><td style="text-align:center;">-n</td><td>静默模式，只输出匹配到的行（默认输出所有行）</td></tr><tr><td style="text-align:center;">-f</td><td>从脚本文件中读取编辑指令（适合复杂操作）</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token punctuation">\</span># 推荐：用 <span class="token operator">|</span> 替代 /，无需转义 URL 中的 /</span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s|http://dl.rockylinux.org|https://mirrors.aliyun.com/rockylinux|g&#39;</span> <span class="token function">file</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">\</span># 不推荐：用 / 需转义，易出错</span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/http:\/\/dl.rockylinux.org/https:\/\/mirrors.aliyun.com\/rockylinux/g&#39;</span> <span class="token function">file</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>[!NOTE] 默认分隔符是 <code>/</code>，但当内容包含 <code>/</code> 时（如 URL），可用 <code>|</code>、<code>\#</code>、<code>@</code> 替代，避免转义：</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token assign-left variable">ver</span><span class="token operator">=</span><span class="token number">9</span></span>
<span class="line"><span class="token punctuation">\</span># 正确：双引号解析 <span class="token variable">$ver</span> 为 <span class="token number">9</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;s/rockylinux\/8/rockylinux\/<span class="token variable">$ver</span>/g&quot;</span> /etc/yum.repos.d/Rocky.repo</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">\</span># 错误：单引号不解析变量，替换为 rockylinux/<span class="token variable">$ver</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/rockylinux\/8/rockylinux\/$ver/g&#39;</span> /etc/yum.repos.d/Rocky.repo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>[!NOTE] 当替换内容包含变量时，必须用双引号包裹编辑指令（Shell 解析变量）</p></blockquote><h3 id="_2-10-awk" tabindex="-1"><a class="header-anchor" href="#_2-10-awk"><span>2.10 awk</span></a></h3><ul><li><code>awk</code> 核心逻辑是： <ol><li><strong>逐行读取</strong>：从输入（文件 / 管道）中逐行读取文本；</li><li><strong>按分隔符切分</strong>：默认以「空格 / 制表符」为分隔符，将每行切分成多个字段（列），用 <code>$1</code>、<code>$2</code>、<code>$3</code>... 表示第 1、2、3 列，<code>$0</code> 表示整行；</li><li><strong>执行处理逻辑</strong>：对每行 / 每列执行指定的条件判断、计算、输出等操作；</li><li><strong>循环至结束</strong>：直到所有行处理完毕。</li></ol></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">awk</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token string">&#39;条件 { 操作 }&#39;</span> 输入文件</span>
<span class="line">//条件：可选，满足条件才执行后续操作（省略则处理所有行）；</span>
<span class="line">//操作：必选（需用 <span class="token variable"><span class="token variable">`</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token variable">`</span></span> 包裹），对匹配行执行的动作（如打印、计算、判断）；</span>
<span class="line">//特殊模式：<span class="token variable"><span class="token variable">`</span>BEGIN <span class="token punctuation">{</span> 操作 <span class="token punctuation">}</span><span class="token variable">`</span></span>（处理文本前执行）、<span class="token variable"><span class="token variable">`</span>END <span class="token punctuation">{</span> 操作 <span class="token punctuation">}</span><span class="token variable">`</span></span>（处理完所有行后执行）。</span>
<span class="line"></span>
<span class="line">//提取所有用户名（第1列）</span>
<span class="line"><span class="token function">awk</span> -F: <span class="token string">&#39;{print $1}&#39;</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//提取用户名 + <span class="token environment constant">UID</span>（第1列和第3列），用 <span class="token operator">|</span> 分隔输出</span>
<span class="line"><span class="token function">awk</span> -F: <span class="token string">&#39;BEGIN{OFS=&quot;|&quot;} {print $1, $3}&#39;</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//只输出 root 用户的家目录（第6列）</span>
<span class="line"><span class="token function">awk</span> -F: <span class="token string">&#39;$1==&quot;root&quot; {print $6}&#39;</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//筛选 <span class="token environment constant">UID</span> ≥ <span class="token number">1000</span> 的普通用户（第3列是 <span class="token environment constant">UID</span>）</span>
<span class="line"><span class="token function">awk</span> -F: <span class="token string">&#39;$3 &gt;= 1000 {print $1, $3}&#39;</span> <span class="token function">passwd</span></span>
<span class="line"></span>
<span class="line">//筛选 YUM 源中包含 aliyun 的 baseurl 行（正则匹配）</span>
<span class="line"><span class="token function">awk</span> <span class="token parameter variable">-F</span><span class="token operator">=</span> <span class="token string">&#39;/^baseurl/ &amp;&amp; $2 ~ /aliyun/ {print $0}&#39;</span> /etc/yum.repos.d/Rocky.repo</span>
<span class="line"></span>
<span class="line">//排除注释行和空行，只输出有效配置行</span>
<span class="line"><span class="token function">awk</span> <span class="token string">&#39;!/^#/ &amp;&amp; !/^$/ {print $0}&#39;</span> /etc/yum.repos.d/Rocky.repo</span>
<span class="line"></span>
<span class="line">//筛选行号 <span class="token number">10</span>-20 之间的内容（NR 是行号）</span>
<span class="line"><span class="token function">awk</span> <span class="token string">&#39;NR &gt;=10 &amp;&amp; NR &lt;=20 {print NR, $0}&#39;</span> <span class="token function">passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">选项</th><th>作用</th></tr></thead><tbody><tr><td style="text-align:center;"><code>-F 分隔符</code></td><td>指定列分隔符（默认是空格 / 制表符）</td></tr><tr><td style="text-align:center;"><code>-v 变量=值</code></td><td>定义 awk 变量（传递 Shell 变量到 awk 中）</td></tr><tr><td style="text-align:center;"><code>-f 脚本文件</code></td><td>从脚本文件中读取 awk 指令（适合复杂逻辑）</td></tr></tbody></table><h3 id="_2-11-通配符" tabindex="-1"><a class="header-anchor" href="#_2-11-通配符"><span>2.11 通配符</span></a></h3><ul><li>Shell 通配符的核心作用是<strong>匹配文件名 / 目录名</strong>，由 Shell 先解析后传给命令。部分命令的参数可以接收正则表达式。</li></ul><table><thead><tr><th style="text-align:center;">特性</th><th style="text-align:left;">Shell 通配符</th><th style="text-align:left;">正则表达式</th></tr></thead><tbody><tr><td style="text-align:center;">作用对象</td><td style="text-align:left;">匹配「文件 / 目录名」（给 shell 解析）</td><td style="text-align:left;">匹配「文本内容」（给 grep/awk/sed 等工具解析）</td></tr><tr><td style="text-align:center;">所属解析层</td><td style="text-align:left;">由 shell（bash/zsh 等）先解析，再传给命令</td><td style="text-align:left;">由具体命令（grep/awk）解析，shell 不处理</td></tr><tr><td style="text-align:center;">核心语法</td><td style="text-align:left;">简单：<code>*</code>/<code>?</code>/<code>[]</code>/<code>{}</code></td><td style="text-align:left;">复杂：<code>.*</code>/<code>+</code>/<code>^</code>/<code>$</code>/<code>()</code> 等完整正则规则</td></tr></tbody></table><ul><li>shell通配符</li></ul><table><thead><tr><th>通配符</th><th>含义</th><th>典型示例</th><th>匹配结果（举例）</th></tr></thead><tbody><tr><td><code>*</code></td><td>匹配<strong>任意长度</strong>的任意字符（包括 0 个字符）</td><td><code>ls *.txt</code></td><td>a.txt、test123.txt、.txt（空命名 txt 文件）</td></tr><tr><td><code>?</code></td><td>匹配<strong>单个</strong>任意字符</td><td><code>ls file?.log</code></td><td>file1.log、fileA.log、file_.log</td></tr><tr><td><code>[]</code></td><td>匹配括号内<strong>单个</strong>指定字符（支持范围、排除）</td><td><code>ls file[1-3].txt</code></td><td>file1.txt、file2.txt、file3.txt</td></tr><tr><td><code>[!]</code>/<code>[^]</code></td><td>匹配括号内<strong>除外</strong>的单个字符</td><td><code>ls file[!1-3].txt</code></td><td>file4.txt、fileA.txt（排除 1/2/3）</td></tr><tr><td><code>{}</code></td><td>花括号扩展（不是 “匹配”，是 “生成” 多个字符串）</td><td><code>ls {a,b,c}.txt</code></td><td>等价于 ls a.txt b.txt c.txt</td></tr></tbody></table><h3 id="_2-12-引号问题" tabindex="-1"><a class="header-anchor" href="#_2-12-引号问题"><span>2.12 引号问题</span></a></h3><ul><li><strong>不加引号</strong>：shell 会先解析变量 / 命令替换 / 转义字符 / 通配符 / 特殊字符（空格），再把结果传给命令；</li><li><strong>加双引号 <code>&quot; &quot;</code></strong>：shell 仅解析变量 / 命令替换 / 部分转义字符，不解析通配符。</li><li><strong>加单引号 <code>&#39; &#39;</code></strong>：shell 完全不解析，直接把内容原样传给命令；</li></ul><table><thead><tr><th>解析行为</th><th>不加引号</th><th>加双引号 <code>&quot; &quot;</code></th><th>加单引号 <code>&#39; &#39;</code></th></tr></thead><tbody><tr><td>变量解析（<code>$var</code>）</td><td>✅ 解析</td><td>✅ 解析</td><td>❌ 不解析（原样）</td></tr><tr><td>命令替换（<code>`cmd`</code>和<code>$(cmd)</code>）</td><td>✅ 解析</td><td>✅ 解析（但保留原始格式）</td><td>❌ 不解析（原样）</td></tr><tr><td>转义字符（<code>\</code>）</td><td>✅ 仅解析 <code>\$</code>和<code>\&quot;</code>和<code>\&#39;</code>和<code> \`</code>和<code>|</code>和<code>\;</code>和<code>\&gt;</code>和<code>\&lt;</code>和和<code>\#</code>和<code>\&amp;</code>和<code>\\</code>和<code>\[</code>和<code>\</code>(例如<code>\a</code>转换为<code>a</code>)</td><td>✅ 仅解析 <code>\$</code>和<code>\&quot;</code>和<code>\`</code>和<code>\\</code></td><td>❌ 不解析（<code>\</code> 只是普通字符）</td></tr><tr><td>通配符（<code>*</code>/<code>?</code>/<code>[]</code>）</td><td>✅ 解析</td><td>❌ 屏蔽（成普通字符）</td><td>❌ 屏蔽（成普通字符）</td></tr><tr><td>单词分割（空格 / 制表符）</td><td>✅ 分割成多个参数</td><td>❌ 屏蔽（视为单个参数）</td><td>❌ 屏蔽（视为单个参数）</td></tr></tbody></table><blockquote><p>[!NOTE] \n，\t，\r 等不是 Shell 级转义符，Shell只对\转义，直接去掉 <code>\</code>，只保留 n，t，r。</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">// <span class="token number">1</span>.保留变量解析</span>
<span class="line"><span class="token comment"># 定义变量</span></span>
<span class="line"><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;test file.txt&quot;</span></span>
<span class="line"><span class="token comment"># 不加引号：变量解析，但后续会触发单词分割/通配符（若有）</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$name</span>  <span class="token comment"># 输出：test file.txt（这里无通配符，暂时正常）</span></span>
<span class="line"><span class="token comment"># 加双引号：变量解析，且保留完整字符串</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$name</span>&quot;</span>  <span class="token comment"># 输出：test file.txt（和不加引号结果一致）</span></span>
<span class="line"><span class="token comment"># 加单引号：变量不解析</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;$name&#39;</span>  <span class="token comment"># 输出：$name</span></span>
<span class="line"></span>
<span class="line">// <span class="token number">2</span>.保留命令替换</span>
<span class="line"><span class="token comment"># 不加引号：命令替换，结果分割（若有空格）</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> *.txt<span class="token variable">)</span></span>  <span class="token comment"># 输出：a.txt b.txt c.txt（分割成多个单词）</span></span>
<span class="line"><span class="token comment"># 加双引号：命令替换，结果保留为单个字符串</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> *.txt<span class="token variable">)</span></span>&quot;</span>  <span class="token comment"># 输出：a.txt</span></span>
<span class="line">                    <span class="token comment">#      b.txt</span></span>
<span class="line">                    <span class="token comment">#      c.txt（保留 ls 输出的原始格式）</span></span>
<span class="line"><span class="token comment"># 加单引号：命令替换不解析</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;$(ls *.txt)&#39;</span>  <span class="token comment"># 输出：$(ls *.txt)</span></span>
<span class="line"></span>
<span class="line">// <span class="token number">3</span>.转义字符仅解析特定符号</span>
<span class="line"><span class="token comment"># 不加引号：正常解析\&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> he said <span class="token punctuation">\</span>&quot;hello<span class="token punctuation">\</span>&quot;<span class="token operator">!</span> <span class="token comment"># 输出：he said &quot;hello&quot;!</span></span>
<span class="line"><span class="token comment"># 加双引号，正常解析\&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;he said <span class="token entity" title="\&quot;">\&quot;</span>hello<span class="token entity" title="\&quot;">\&quot;</span>!&quot;</span> <span class="token comment"># 输出：he said &quot;hello&quot;!</span></span>
<span class="line"><span class="token comment"># 加单引号，命令替换不解析</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;he said \&quot;hello\&quot;!&#39;</span> <span class="token comment"># 输出：he said \&quot;hello\&quot;!</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 不加引号：正常解析\n为n</span></span>
<span class="line"><span class="token builtin class-name">echo</span> hello<span class="token punctuation">\</span>nworld <span class="token comment"># 输出：hellonworld</span></span>
<span class="line"><span class="token comment"># 加双引号，命令替换不解析</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;hello<span class="token entity" title="\n">\n</span>world&quot;</span> <span class="token comment"># 输出：hello\nworld</span></span>
<span class="line"><span class="token comment"># 加单引号，命令替换不解析</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;hello\nworld&#39;</span> <span class="token comment"># 输出：hello\nworld</span></span>
<span class="line"></span>
<span class="line">// <span class="token number">4</span>.屏蔽通配符</span>
<span class="line"><span class="token comment"># 假设当前目录有 a.txt、b.txt</span></span>
<span class="line"><span class="token comment"># 不加引号：* 被解析为所有 .txt 文件</span></span>
<span class="line"><span class="token builtin class-name">echo</span> *.txt  <span class="token comment"># 输出：a.txt b.txt</span></span>
<span class="line"><span class="token comment"># 加双引号：* 变成普通字符，不解析</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;*.txt&quot;</span>  <span class="token comment"># 输出：*.txt</span></span>
<span class="line"><span class="token comment"># 同理，?/[] 也会被屏蔽</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;file?.txt&quot;</span>  <span class="token comment"># 输出：file?.txt（而非匹配 file1.txt 等）</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;file[1-3].txt&quot;</span>  <span class="token comment"># 输出：file[1-3].txt（而非匹配 file1.txt 等）</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">// <span class="token number">5</span>.屏蔽单词分割（空格 / 制表符）</span>
<span class="line"><span class="token comment"># 定义含空格的变量</span></span>
<span class="line"><span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;my document.txt&quot;</span></span>
<span class="line"><span class="token comment"># 不加引号：分割成两个参数（my 和 document.txt）</span></span>
<span class="line"><span class="token function">ls</span> <span class="token variable">$file</span>  <span class="token comment"># 报错：ls: 无法访问 &#39;my&#39;: 没有那个文件或目录；ls: 无法访问 &#39;document.txt&#39;: 没有那个文件或目录</span></span>
<span class="line"><span class="token comment"># 加双引号：视为单个参数（my document.txt），正确匹配文件</span></span>
<span class="line"><span class="token function">ls</span> <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span>  <span class="token comment"># 输出：my document.txt（若文件存在）</span></span>
<span class="line"><span class="token comment"># 加单引号：视为单个参数（my document.txt），正确匹配文件</span></span>
<span class="line"><span class="token function">ls</span> <span class="token string">&#39;$file&#39;</span>  <span class="token comment"># 输出：my document.txt（若文件存在）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>常见情况</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">// 处理含空格的文件名 / 路径</span>
<span class="line"><span class="token comment"># 错误：不加引号，空格分割参数</span></span>
<span class="line"><span class="token function">rm</span> my file.txt  <span class="token comment"># 试图删除 my 和 file.txt，报错</span></span>
<span class="line"><span class="token comment"># 正确：加双引号，视为单个文件</span></span>
<span class="line"><span class="token function">rm</span> <span class="token string">&quot;my file.txt&quot;</span>  <span class="token comment"># 成功删除</span></span>
<span class="line"></span>
<span class="line">// 避免通配符意外匹配</span>
<span class="line"><span class="token comment"># 需求：输出字符串 &quot;*.txt&quot;，而非匹配所有 .txt 文件</span></span>
<span class="line"><span class="token comment"># 错误：不加引号，解析为文件名</span></span>
<span class="line"><span class="token builtin class-name">echo</span> *.txt  <span class="token comment"># 输出：a.txt b.txt</span></span>
<span class="line"><span class="token comment"># 正确：加双引号，屏蔽通配符</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;*.txt&quot;</span>  <span class="token comment"># 输出：*.txt</span></span>
<span class="line"></span>
<span class="line">// 保留命令输出的原始格式</span>
<span class="line"><span class="token comment"># 需求：查看 ls 输出的完整格式（含换行）</span></span>
<span class="line"><span class="token comment"># 错误：不加引号，换行被替换为空格</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span><span class="token variable">)</span></span>  <span class="token comment"># 输出：a.txt b.txt c.txt</span></span>
<span class="line"><span class="token comment"># 正确：加双引号，保留换行</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span><span class="token variable">)</span></span>&quot;</span>  <span class="token comment"># 输出：a.txt</span></span>
<span class="line">              <span class="token comment">#       b.txt</span></span>
<span class="line">              <span class="token comment">#       c.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-vim" tabindex="-1"><a class="header-anchor" href="#_3-vim"><span>3. vim</span></a></h2><ul><li>vim的三种模式：命令模式、编辑模式、末行模式</li></ul><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-gAJcd0Hd.png" alt="600"></p><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-5-B0lgUTVv.png" alt="600"></p><h3 id="_3-1-命令模式" tabindex="-1"><a class="header-anchor" href="#_3-1-命令模式"><span>3.1 命令模式</span></a></h3><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:left;">按键</th></tr></thead><tbody><tr><td style="text-align:center;">行首</td><td style="text-align:left;">-</td></tr><tr><td style="text-align:center;">行尾</td><td style="text-align:left;">$</td></tr><tr><td style="text-align:center;">首行</td><td style="text-align:left;">gg</td></tr><tr><td style="text-align:center;">尾行</td><td style="text-align:left;">G</td></tr><tr><td style="text-align:center;">指定行</td><td style="text-align:left;">[行数] gg</td></tr><tr><td style="text-align:center;">上一页</td><td style="text-align:left;">ctrl+b</td></tr><tr><td style="text-align:center;">下一页</td><td style="text-align:left;">ctrl+f</td></tr><tr><td style="text-align:center;">下一个单词</td><td style="text-align:left;">w</td></tr><tr><td style="text-align:center;">复制</td><td style="text-align:left;">yy；[行数] yy；</td></tr><tr><td style="text-align:center;">剪切</td><td style="text-align:left;">dd；[行数] dd；D；x；</td></tr><tr><td style="text-align:center;">粘贴</td><td style="text-align:left;">p</td></tr><tr><td style="text-align:center;">替换</td><td style="text-align:left;">r [新内容]</td></tr><tr><td style="text-align:center;">撤销</td><td style="text-align:left;">:u；u</td></tr><tr><td style="text-align:center;">重做</td><td style="text-align:left;">ctrl+r；.；</td></tr><tr><td style="text-align:center;">跳转到第n行</td><td style="text-align:left;">n+G；:n；</td></tr><tr><td style="text-align:center;">上/下/左/右移n行</td><td style="text-align:left;">n+↑/↓/←/→</td></tr></tbody></table><h3 id="_3-2-末行模式" tabindex="-1"><a class="header-anchor" href="#_3-2-末行模式"><span>3.2 末行模式</span></a></h3><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:left;">按键</th></tr></thead><tbody><tr><td style="text-align:center;">保存</td><td style="text-align:left;">:w</td></tr><tr><td style="text-align:center;">另存为</td><td style="text-align:left;">:w 路径</td></tr><tr><td style="text-align:center;">退出</td><td style="text-align:left;">:q</td></tr><tr><td style="text-align:center;">保存并退出</td><td style="text-align:left;">:wq；shift+ZZ</td></tr><tr><td style="text-align:center;">自适应退出</td><td style="text-align:left;">:x</td></tr><tr><td style="text-align:center;">强制退出</td><td style="text-align:left;">:q!</td></tr><tr><td style="text-align:center;">外部命令</td><td style="text-align:left;">:!外部命令</td></tr><tr><td style="text-align:center;">查找搜索</td><td style="text-align:left;">/关键词；N；n</td></tr><tr><td style="text-align:center;">取消高亮</td><td style="text-align:left;">:nohl</td></tr><tr><td style="text-align:center;">替换</td><td style="text-align:left;">😒/关键词/目标词；😒/关键词/目标词/g；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">:%s/关键词/目标词；:%s/关键词/目标词/g（%表示整个文件，g表示全局）</td></tr><tr><td style="text-align:center;">显示行号</td><td style="text-align:left;">:set nu</td></tr><tr><td style="text-align:center;">查看当前打开的文件</td><td style="text-align:left;">:files</td></tr><tr><td style="text-align:center;">切换文件</td><td style="text-align:left;">:open 文件名</td></tr><tr><td style="text-align:center;">切换上/下一个文件</td><td style="text-align:left;">:bp/n</td></tr><tr><td style="text-align:center;">开启/关闭颜色</td><td style="text-align:left;">:syntax on/off</td></tr></tbody></table><h3 id="_3-3-编辑模式" tabindex="-1"><a class="header-anchor" href="#_3-3-编辑模式"><span>3.3 编辑模式</span></a></h3><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-2-CqCHAyMJ.png" alt="600"></p><h3 id="_3-4-其他情况" tabindex="-1"><a class="header-anchor" href="#_3-4-其他情况"><span>3.4 其他情况</span></a></h3><ul><li><p>配置</p><ol><li>个人配置文件（~/.vimrc）</li><li>全局配置文件（/etc/vimrc）</li></ol></li><li><p>异常退出 需要删除.swp文件</p></li><li><p>别名机制 ~/.bashrc文件</p></li></ul><h2 id="_4-用户权限管理" tabindex="-1"><a class="header-anchor" href="#_4-用户权限管理"><span>4. 用户权限管理</span></a></h2><h3 id="_4-1-用户与用户组管理" tabindex="-1"><a class="header-anchor" href="#_4-1-用户与用户组管理"><span>4.1 用户与用户组管理</span></a></h3><ul><li>Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。</li><li>每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，<strong>这个用户组在创建用户时同时创建</strong>。</li><li>新增用户时会创建同名的组和家目录。</li><li>主组，也叫初始组，是用户登录系统时的组。创建新用户时，如果未明确指定该用户所属的主组，会默认创建一个与用户名相同的组，作为该用户的主组。用户创建文件时，文件的所属权限组就是当前用户的主组。用户有且只能所属一个主组，主组不能被删除，但可以更换主组。</li><li>附加组是用户登录后可以切换的其他组。用户可以所属零个或多个附加组，附加组和主组可以相同。附加组可以直接被删除而无需关心是否所属于用户，附加组可以新增和移除任意个所属用户。</li></ul><table><thead><tr><th style="text-align:center;">文件</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">/etc/passwd</td><td style="text-align:left;">存储用户的关键信息（用户名，编号，组编号，家目录，命令码，目录）</td></tr><tr><td style="text-align:center;">/etc/group</td><td style="text-align:left;">存储用户组的关键信息</td></tr><tr><td style="text-align:center;">/etc/shadow</td><td style="text-align:left;">存储用户的密码信息（用户名和密码）</td></tr></tbody></table><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:center;">语法</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">添加用户</td><td style="text-align:center;">useradd [选项] 用户名</td><td style="text-align:left;">添加新用户</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-g</td><td style="text-align:left;">表示指定用户的用户主组，可以是用户组的id，也可以是组名（主组在passwd里查看）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-G</td><td style="text-align:left;">表示指定用户的用户附加组，可以是用户组的id，也可以是组名（附加组在group里查看）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-u</td><td style="text-align:left;">用户的id（用户的标识符），系统默认会从500之后按顺序分配uid</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-c</td><td style="text-align:left;">加注释</td></tr><tr><td style="text-align:center;">修改用户</td><td style="text-align:center;">usermod [选项] 用户名</td><td style="text-align:left;">修改用户信息</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-g 主组名</td><td style="text-align:left;">表示指定用户的用户主组，可以是用户组的id，也可以是组名（主组在passwd里查看）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-G 附加组</td><td style="text-align:left;">表示指定用户的用户附加组，可以是用户组的id，也可以是组名（附加组在group里查看）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-u</td><td style="text-align:left;">用户的id（用户的标识符），系统默认会从500之后按顺序分配uid</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-l</td><td style="text-align:left;">修改用户名</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-L</td><td style="text-align:left;">锁定用户名</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-U</td><td style="text-align:left;">解锁用户名</td></tr><tr><td style="text-align:center;">设置用户密码</td><td style="text-align:center;">passwd 用户名</td><td style="text-align:left;">给用户设置密码</td></tr><tr><td style="text-align:center;">切换用户</td><td style="text-align:center;">su [用户名]</td><td style="text-align:left;">切换要登录的用户</td></tr><tr><td style="text-align:center;">删除用户</td><td style="text-align:center;">userdel 用户名</td><td style="text-align:left;">删除指定用户</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-r</td><td style="text-align:left;">同时删除其家目录</td></tr></tbody></table><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:center;">语法</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">查看所在组</td><td style="text-align:center;">groups</td><td style="text-align:left;">查看当前用户所在组</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">groups [用户名]</td><td style="text-align:left;">查看指定用户所在组</td></tr><tr><td style="text-align:center;">添加用户组</td><td style="text-align:center;">groupadd [选项] 用户组名</td><td style="text-align:left;">添加新用户组</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-g</td><td style="text-align:left;">设置自定义的用户组id，系统默认会从500之后按顺序分配</td></tr><tr><td style="text-align:center;">修改用户组</td><td style="text-align:center;">groupmod [选项] 用户组名</td><td style="text-align:left;">修改用户组信息</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-g</td><td style="text-align:left;">设置自定义的用户组id，系统默认会从500之后按顺序分配</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-n</td><td style="text-align:left;">修改用户组名</td></tr><tr><td style="text-align:center;">删除用户组</td><td style="text-align:center;">groupdel 用户组名</td><td style="text-align:left;">删除指定用户组</td></tr></tbody></table><h3 id="_4-2-属主与属组" tabindex="-1"><a class="header-anchor" href="#_4-2-属主与属组"><span>4.2 属主与属组</span></a></h3><ul><li>属主：所属的用户（文件的主人）</li><li>属组：所属的用户组</li></ul><h3 id="_4-3-身份和权限" tabindex="-1"><a class="header-anchor" href="#_4-3-身份和权限"><span>4.3 身份和权限</span></a></h3><ul><li><p>Linux系统一般将文件可存/取访问的身份分为3个类别：owner、group、others，且3种身份各有read、write、execute等权限。</p></li><li><p>身份</p><ol><li>Owner身份（文件所有者，默认为文档的创建者）</li><li>Group身份（与文件所有者同组的用户）</li><li>Others身份（其他人，相对于所有者）</li><li>Root用户（超级用户）</li></ol></li><li><p>读权限：</p><ol><li>对于文件夹来说，读权限影响用户是否能够列出目录结构</li><li>对于文件来说，读权限影响用户是否可以查看文件内容</li></ol></li><li><p>写权限：</p><ol><li>对文件夹来说，写权限影响用户是否可以在文件夹下“创建/删除/复制到/移动到”文档</li><li>对于文件来说，写权限影响用户是否可以编辑文件内容</li></ol></li><li><p>执行权限：</p><ol><li>一般都是对于文件来说，特别脚本文件。</li></ol></li><li><p>权限查看：<code>ls -l，ll</code></p></li></ul><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-3-DdF1_xxm.png" alt="600"></p><h3 id="_4-4-权限设置" tabindex="-1"><a class="header-anchor" href="#_4-4-权限设置"><span>4.4 权限设置</span></a></h3><ul><li>文件（夹）的权限由两部分组成： <ol><li>ugo</li><li>ugo分别对应的rwx权限</li></ol></li><li>修改权限方式： <ol><li>修改文件（夹）的属主和属组，会被动的影响others的范围</li><li>分别修改ugo对应的rwx权限</li></ol></li></ul><h4 id="_4-4-1-修改所属" tabindex="-1"><a class="header-anchor" href="#_4-4-1-修改所属"><span>4.4.1 修改所属</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">chown</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 属主<span class="token punctuation">[</span>:属组<span class="token punctuation">]</span> 文档/文件夹</span>
<span class="line">//其中选项-R表示递归设置权限 （当文档类型为文件夹的时候）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-4-2-修改权限" tabindex="-1"><a class="header-anchor" href="#_4-4-2-修改权限"><span>4.4.2 修改权限</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">chmod</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 权限模式 文档/文件夹</span>
<span class="line">//其中选项-R表示递归设置权限 （当文档类型为文件夹的时候）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果想要给文档设置权限，操作者要么是root用户，要么就是文档的所有者。</li><li>当rwx权限全都有的时候，这个文件/文件夹会显示为蓝色（ugo都能执行的是绿色）</li><li>权限模式：字母形式，数字形式</li></ul><table><thead><tr><th style="text-align:center;">选项</th><th style="text-align:center;">字母</th><th style="text-align:left;">介绍(字母模式)</th></tr></thead><tbody><tr><td style="text-align:center;">谁</td><td style="text-align:center;">u</td><td style="text-align:left;">用户</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">g</td><td style="text-align:left;">用户组</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">o</td><td style="text-align:left;">其他人</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">a</td><td style="text-align:left;">所有人（包括ugo）,省略默认就是a</td></tr><tr><td style="text-align:center;">作用方式</td><td style="text-align:center;">+</td><td style="text-align:left;">增加权限（相对当前的）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">-</td><td style="text-align:left;">减少权限（相对当前的）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">=</td><td style="text-align:left;">设置权限（直接设置成指令中）</td></tr><tr><td style="text-align:center;">权限</td><td style="text-align:center;">r</td><td style="text-align:left;">可读</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">w</td><td style="text-align:left;">可写</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">x</td><td style="text-align:left;">可执行</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">chmod</span> u+x,g+rx,o+rx test.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">选项</th><th style="text-align:center;">介绍（数字模式）</th></tr></thead><tbody><tr><td style="text-align:center;">0</td><td style="text-align:center;">---</td></tr><tr><td style="text-align:center;">1</td><td style="text-align:center;">--x</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">-w-</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">-wx</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">r--</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;">r-x</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;">rw-</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;">rwx</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">chmod</span> <span class="token number">777</span> test.txt（这个ugo中间不需要加逗号）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-4-BNaq6m3S.png" alt="600"></p><ul><li>这两项信息在文档创建的时候会使用创建者的信息（用户名、用户所属的主组名称）。</li><li>如果有时候去删除某个用户，则该用户对应的文档的属主和属组信息就需要去修改。</li></ul><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:center;">介绍</th></tr></thead><tbody><tr><td style="text-align:center;">chown [-R] username 文档路径</td><td style="text-align:center;">更改文档的的所属用户（-R在处理文件夹时递归设置）</td></tr><tr><td style="text-align:center;">chgrp [-R] groupname 文档路径</td><td style="text-align:center;">更改文档的所属用户组</td></tr><tr><td style="text-align:center;">chown [-R] username:groupname 文档路径</td><td style="text-align:center;">更改文档的的所属用户和所属用户组</td></tr></tbody></table><h3 id="_4-5-sudo" tabindex="-1"><a class="header-anchor" href="#_4-5-sudo"><span>4.5 sudo</span></a></h3><ul><li>reboot、shutdown、init、halt、user管理，在普通用户身份上都是操作不了，但是有些特殊的情况下又需要有执行权限。又不可能让root用户把自己的密码告诉普通用户。</li><li>sudo可以让管理员（root）事先定义某些特殊命令谁可以执行</li><li>/etc/sudoers，编辑需要用visudo sudoers。</li><li>配置格式： root ALL=(ALL) ALL</li></ul><table><thead><tr><th style="text-align:center;">选项</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">root</td><td style="text-align:left;">表示用户名，如果是用户组，则可以写成“%组名”</td></tr><tr><td style="text-align:center;">ALL</td><td style="text-align:left;">表示允许登录的主机（地址白名单）</td></tr><tr><td style="text-align:center;">(ALL)</td><td style="text-align:left;">表示以谁的身份执行，ALL表示root身份</td></tr><tr><td style="text-align:center;">ALL</td><td style="text-align:left;">表示当前用户可以执行的命令，多个命令可以使用“,”分割</td></tr></tbody></table><ul><li><p>在写sudo规则的时候不建议写直接形式的命令，而是写命令的完整路径。可以用which来找指令的二进制文件地址：adminwwq ALL=(ALL) /usr/sbin/useradd, /usr/bin/passwd [A-Za-z]*, !/usr/bin/passwd &quot;&quot;, !/usr/bin/passwd root</p></li><li><p>之后执行配置好的命令需要先加个sudo： sudo useradd admintest</p></li><li><p>普通用户查看自己具有的特殊权限：sudo  -l</p></li></ul><h2 id="_5-自有服务" tabindex="-1"><a class="header-anchor" href="#_5-自有服务"><span>5. 自有服务</span></a></h2><h3 id="_5-1-开机自启动" tabindex="-1"><a class="header-anchor" href="#_5-1-开机自启动"><span>5.1 开机自启动</span></a></h3><ul><li>Windows启动计算机的硬件（BIOS） <ul><li>读取时间</li><li>选择对应的启动模式（USB HDD EFI）</li></ul></li><li>Linux系统中/boot目录引导系统启动，详细过程如下 <ul><li>电源通电</li><li>BIOS启动：引导时间，确定启动模式（USB HDD EFI UEFI）</li><li>/boot引导分区</li><li>找配置文件确定运行级别：读取初始配置文件 /etc/inittab（==系统运行级别配置文件==），启动时控制着运行级别runlevel（几乎与上一个boot并行执行）</li><li>执行对应启动控制Systemd</li><li>启动服务 <ul><li>init.d：要启动的服务</li><li>rc3.d：软连接（S-NUM，K-NUM）</li><li>rc.local：自定义脚本</li></ul></li><li>启动tty</li></ul></li><li>运行级别 <ul><li>0 — 表示关机级别（不要将默认的运行级别设置成这个值）</li><li>1 — 单用户模式</li><li>2 — 多用户模式，不带NFS（Network File Syetem）</li><li>3 — 多用户模式，完全的多用户模式（不带桌面的，纯命令行模式）</li><li>4 — 没有被使用的模式（保留模式）</li><li>5 — X11，完整的图形化界面模式</li><li>6 — 表示重启级别（不要将默认的运行级别设置成这个值）</li></ul></li><li>控制运行级别的指令</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">systemctl set-default multi-user.target</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-2-设置主机名" tabindex="-1"><a class="header-anchor" href="#_5-2-设置主机名"><span>5.2 设置主机名</span></a></h3><ul><li>hostname [新的主机名]：只能暂时修改，重启后恢复默认的localhost</li><li>修改etc/sysconfig/network，新版为etc/hostname后重启才是永久修改</li><li>hostnamectl set-hostname shiyanshi</li><li>加入本地地址才能访问127.0.0.1，需要修改/etc/hosts。</li></ul><h3 id="_5-3-网络连接" tabindex="-1"><a class="header-anchor" href="#_5-3-网络连接"><span>5.3 网络连接</span></a></h3><ul><li>主机模式</li><li>桥接模式bridged <ul><li>虚拟出来的操作系统就像是局域网中的一台独立的主机，它可以访问网内任何一台机器（主机IP是192.168.8.100，虚拟机IP是192.168.8.xxx）</li><li>但是桥接模式中虚拟机的IP是写死的，极有可能和其他主机IP重复</li></ul></li><li>网络地址转换模式NAT <ul><li>让虚拟系统借助NAT功能通过宿主主机器所在的网阔访问公网。</li><li>NAT模式下虚拟系统的TCP/IP配置信息由VMnet8(NAT)虚拟网络的DHCP服务器提供的。</li><li>虚拟系统无法和本局域网中的其他真实主机进行通讯。</li></ul></li></ul><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-7-CiwVWt_m.png" alt="800"></p><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:left;">介绍</th></tr></thead><tbody><tr><td style="text-align:center;">ping 主机地址（IP地址/主机名/域名）</td><td style="text-align:left;">测试当前主机与目标主机的连通性</td></tr><tr><td style="text-align:center;">netstat -tnlp</td><td style="text-align:left;">查看网络的连接信息(-t：tcp协议，-n：字母转化成数字，-l：列出状态为监听，-p：显示进程相关信息)</td></tr><tr><td style="text-align:center;">netstat -an</td><td style="text-align:left;">查看网络的连接信息(-a：全部，-n：字母转化成数字)</td></tr><tr><td style="text-align:center;">traceroute  主机地址</td><td style="text-align:left;">查找当前主机与目标主机之间所有的网关（路由器，会给沿途各个路由器发送icmp数据包，路由器可能会不给响应）。</td></tr><tr><td style="text-align:center;">arp -a</td><td style="text-align:left;">查看本地缓存mac表</td></tr><tr><td style="text-align:center;">arp -d 地址</td><td style="text-align:left;">删除指定的缓存记录</td></tr><tr><td style="text-align:center;">tcpdump [协议] port 端口号</td><td style="text-align:left;">抓取本机的指定端口的数据包</td></tr><tr><td style="text-align:center;">tcpdump host 地址</td><td style="text-align:left;">抓取本机与指定主机的数据包</td></tr><tr><td style="text-align:center;">tcpdump -i 网卡设备名</td><td style="text-align:left;">抓取本机的指定网卡的数据包</td></tr></tbody></table><h3 id="_5-4-ssh服务" tabindex="-1"><a class="header-anchor" href="#_5-4-ssh服务"><span>5.4 SSH服务</span></a></h3><ul><li>ssh:secure shell 安全外壳协议，可以用于远程连接协议和远程文件传输协议。</li><li>协议使用端口号：默认是22。配置文件：/etc/ssh/ssh_config。</li><li>终端工具主要帮助连接远程的服务器，常见终端工具有：Xshell、secureCRT、Putty等。</li></ul><p>-<code>scp</code>是Linux发行版默认预装（属于OpenSSH套件），Windows需额外配置。</p><ul><li><code>pscp</code> 是 Windows 端安装的工具，Linux 无法使用，只能在Windows端主动推送或拉取，在沟通时作用到Linux端本质是scp。</li><li><code>rsync</code>（Remote Sync）是 Linux 原生的<strong>增量同步工具</strong>，主打 “只传输变化的文件 / 内容”，适合大文件、大目录的跨主机同步，也支持本地同步。核心优势：比 <code>scp</code> 更高效（增量传输）、支持断点续传、保留文件属性（权限 / 时间戳）。 <code>lrzsz</code> 是基于 <strong>ZModem/YModem/XModem</strong> 协议的轻量级工具，主打 “终端交互式传输”，适合通过 SSH 终端（如 Xshell、SecureCRT）快速传输单个 / 少量文件，不支持目录递归传输。依赖 SSH 终端工具（Xshell、SecureCRT、MobaXterm）支持 ZModem 协议，无需额外开端口。==Linux 端需安装 lrzsz==。</li></ul><blockquote><p>[!NOTE] 指令格式都可以概括为<code>scp/pscp/rsync source target</code>。</p></blockquote><table><thead><tr><th style="text-align:center;">传输场景</th><th style="text-align:center;">工具</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">Windows → Linux</td><td style="text-align:center;">scp</td><td style="text-align:center;">Windows 主动发送（Windows需安装支持scp的环境Git Bash/WSL/OpenSSH）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">scp</td><td style="text-align:center;">Linux主动拉取（Windows作为服务端并开启 OpenSSH 服务器）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">pscp</td><td style="text-align:center;">Windows 主动发送（Windows装 PuTTY 套件）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rsync</td><td style="text-align:center;">Windows 主动发送（Windows需安装rsync,Git Bash或者WSL自带rsync，但无需开启SSH）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rsync</td><td style="text-align:center;">Linux主动拉取（Windows作为服务端并开启 OpenSSH 服务器）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rz</td><td style="text-align:center;">Linux主动拉取（Receive ZModem）</td></tr><tr><td style="text-align:center;">Linux → Windows</td><td style="text-align:center;">scp</td><td style="text-align:center;">Linux 主动推送（Windows 需开 SSH 服务）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">scp</td><td style="text-align:center;">Windows主动拉取（Windows需安装支持scp的环境）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">pscp</td><td style="text-align:center;">Windows 用 pscp 主动拉取（Windows 无需开 SSH 服务, Windows装 PuTTY 套件）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rsync</td><td style="text-align:center;">Linux 主动推送（Windows 需开启OpenSSH服务器，无需安装rsync）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rsync</td><td style="text-align:center;">Windows主动拉取（Windows需安装rsync,Git Bash或者WSL自带rsync，但无需开启SSH）</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">sz</td><td style="text-align:center;">Linux 主动推送（Send ZModem）</td></tr><tr><td style="text-align:center;">本地Linux → 远程Linux</td><td style="text-align:center;">scp</td><td style="text-align:center;">本地主动推送</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rsync</td><td style="text-align:center;">本地主动推送</td></tr><tr><td style="text-align:center;">远程Linux → 本地Linux</td><td style="text-align:center;">scp</td><td style="text-align:center;">本地主动拉取</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">rsync</td><td style="text-align:center;">本地主动拉取</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># Windows-&gt;Linux：Windows 主动发送（Windows需安装支持scp的环境Git Bash/WSL/OpenSSH）</span></span>
<span class="line"><span class="token function">scp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Windows本地Unix格式文件路径  Linux用户名@LinuxIP:Linux目标路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows-&gt;Linux：Linux主动拉取（Windows作为服务端并开启 OpenSSH 服务器）</span></span>
<span class="line"><span class="token function">scp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Windows用户名@WindowsIP:Windows文件路径 Linux本地路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Linux-&gt;Windows：Linux 主动推送（Windows 需开 SSH 服务）</span></span>
<span class="line"><span class="token function">scp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Linux本地路径  Windows用户名@WindowsIP:Windows目标路径（Unix格式）</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Linux-&gt;Windows：Windows主动拉取（Windows需安装支持scp的环境）</span></span>
<span class="line"><span class="token function">scp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Linux用户名@LinuxIP:Linux文件路径 Windows本地路径（Unix 格式）</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows-&gt;Linux：Windows 主动发送（Windows装 PuTTY 套件）</span></span>
<span class="line">pscp <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 本地Windows文件路径  Linux用户名@LinuxIP:Linux目标路径</span>
<span class="line">//选项-r：递归传输目录（传文件夹必须加）；</span>
<span class="line">//选项-P：指定 Linux SSH 端口（默认 <span class="token number">22</span>，非默认需加）。</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Linux-&gt;Windows：Windows 用 pscp 主动拉取（Windows 无需开 SSH 服务, Windows装 PuTTY 套件）</span></span>
<span class="line">pscp <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Linux用户名@LinuxIP:Linux文件路径  Windows本地路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows列出远程路径下目录结构</span></span>
<span class="line">pscp <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token parameter variable">-ls</span> 用户名@linux主机地址</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows-&gt;Linux：Windows 主动发送（Windows需安装rsync,Git Bash或者WSL自带rsync，但无需开启SSH）</span></span>
<span class="line"><span class="token function">rsync</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 源路径 Linux用户名@LinuxIP:Linux目标路径</span>
<span class="line"><span class="token function">rsync</span> <span class="token parameter variable">-avzP</span> /c/Users/test/Desktop/Rocky.repo root@192.168.1.100:/tmp/</span>
<span class="line">//-a：归档模式（递归传输 + 保留文件权限 / 时间戳 / 软链接），传目录必加</span>
<span class="line">//-v：<span class="token variable"><span class="token variable">`</span><span class="token operator">|</span>显示详细传输日志（如文件名称、大小），调试 / 查看进度</span>
<span class="line">//-z：传输时压缩数据（节省带宽，跨网络传输推荐），所有场景推荐</span>
<span class="line">//-P：断点续传 + 显示进度条，大文件传输必加</span>
<span class="line">//-e <span class="token string">&quot;ssh -p 端口&quot;</span>：指定 Linux SSH 端口，非 <span class="token number">22</span> 端口时加</span>
<span class="line">//--delete<span class="token variable">`</span></span>：删除目标路径中源路径没有的文件（镜像同步），需完全同步时加（谨慎）</span>
<span class="line">//-avzP：归档（保留权限）+ 详细日志 + 压缩传输 + 断点续传</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows-&gt;Linux：Linux主动拉取（Windows作为服务端并开启 OpenSSH 服务器）</span></span>
<span class="line"><span class="token function">rsync</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Windows用户名@WindowsIP:Windows文件路径（Unix格式） Linux本地目标路径</span>
<span class="line"><span class="token function">rsync</span> <span class="token parameter variable">-avzP</span> test@192.168.1.50:/C/Users/test/Desktop/Rocky.repo /etc/yum.repos.d/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Linux-&gt;Windows：Linux 主动推送（Windows 需开启OpenSSH服务器，无需安装rsync）</span></span>
<span class="line"><span class="token function">rsync</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 源路径 Windows用户名@WindowsIP:Windows目标路径（Unix格式）</span>
<span class="line"><span class="token function">rsync</span> <span class="token parameter variable">-avzP</span> /root/Rocky.repo test@192.168.1.50:/C/Users/test/Desktop/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Linux-&gt;Windows：Windows主动拉取（Windows需安装rsync,Git Bash或者WSL自带rsync，但无需开启SSH）</span></span>
<span class="line"><span class="token function">rsync</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> Linux用户名@LinuxIP:Linux文件路径 Windows本地路径（Unix格式）</span>
<span class="line"><span class="token function">rsync</span> <span class="token parameter variable">-avzP</span> root@192.168.1.100:/root/Rocky.repo /c/Users/test/Desktop/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows-&gt;Linux：Linux主动拉取（Receive ZModem），从本地（如 Windows 客户端）上传文件到 Linux 服务器</span></span>
<span class="line">lz</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Linux-&gt;Windows：Linux 主动推送（Send ZModem），从 Linux 服务器下载文件到本地（如 Windows 客户端）</span></span>
<span class="line">rz Linux本地目标路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 本地 Linux -&gt; 远程 Linux：本地主动推送</span></span>
<span class="line"><span class="token function">scp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 本地路径  远程用户名@远程IP:远程路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 远程 Linux -&gt; 本地 Linux：本地主动拉取</span></span>
<span class="line"><span class="token function">scp</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 远程用户名@远程IP:远程路径 本地路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 本地 Linux -&gt; 远程 Linux：本地主动推送</span></span>
<span class="line"><span class="token function">rsync</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 本地路径  远程用户名@远程IP:远程路径</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 远程 Linux -&gt; 本地 Linux：本地主动拉取</span></span>
<span class="line"><span class="token function">rsync</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 远程用户名@远程IP:远程路径 本地路径</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>用于两台服务器间免密钥直接访问（不对称加密）</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">//默认访问需要ssh xxx</span>
<span class="line"></span>
<span class="line">//生成公钥</span>
<span class="line">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-P</span> <span class="token string">&#39;&#39;</span> <span class="token parameter variable">-f</span> ~/.ssh/id_rsa</span>
<span class="line"></span>
<span class="line">//发送公钥</span>
<span class="line">ssh-copy-id ~/.ssh/id_rsa.pub root@188.188.188.189</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-5-ntp时间" tabindex="-1"><a class="header-anchor" href="#_5-5-ntp时间"><span>5.5 NTP时间</span></a></h3><ul><li>用于对计算机的时间同步管理操作</li><li>根时间服务器<a href="http://www.ntp.org.cn/" target="_blank" rel="noopener noreferrer">全球可用的NTP服务器列表与解析服务</a></li><li>ntpdate 时间服务器的域名/ip</li><li>有了ntp服务后就可以自动设置时间了</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">yum <span class="token function">install</span> ntp <span class="token parameter variable">-y</span></span>
<span class="line">ntpdate cn.ntp.org.cn</span>
<span class="line"></span>
<span class="line">//也可以使用逻辑运算</span>
<span class="line">yum info ntp <span class="token operator">&amp;&amp;</span>ntpdate cn.ntp.org.cn</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">作用</th><th style="text-align:left;">时间日期指令</th></tr></thead><tbody><tr><td style="text-align:center;">日期时间</td><td style="text-align:left;">date；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">date +%F；date &quot;+%Y-%m-%d&quot;；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">date +%T；date &quot;+%H:%M:%S&quot;；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">date &quot;+%F %T&quot;；date &quot;+%Y-%m-%d %H:%M:%S&quot;；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">date -d &quot;-1 day&quot; &quot;+%Y-%m-%d %H-%M-%S&quot;；</td></tr><tr><td style="text-align:center;">日历</td><td style="text-align:left;">cal；cal -1；cal -3；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">cal -y 2030；</td></tr><tr><td style="text-align:center;"></td><td style="text-align:left;">cal -s；cal -m；cal -my 2030；</td></tr></tbody></table><h3 id="_5-6-进程管理" tabindex="-1"><a class="header-anchor" href="#_5-6-进程管理"><span>5.6 进程管理</span></a></h3><table><thead><tr><th style="text-align:center;">语法</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">ps</td><td style="text-align:left;">查看当前终端中的所有进程</td></tr><tr><td style="text-align:center;">ps -ef</td><td style="text-align:left;">查看所有进程</td></tr><tr><td style="text-align:center;">ps -ef | grep panel</td><td style="text-align:left;">查看指定的进程信息</td></tr><tr><td style="text-align:center;">ps -aux</td><td style="text-align:left;">查看详细的进程信息，包括进程的CPU与内存使用情况</td></tr><tr><td style="text-align:center;">ps -aux --sort -pcpu</td><td style="text-align:left;">根据cpu使用率排序展示</td></tr><tr><td style="text-align:center;">pstree；pstree -p</td><td style="text-align:left;">进程树</td></tr><tr><td style="text-align:center;">top</td><td style="text-align:left;">动态的进程使用情况（VIRT虚拟内存 RES 常驻内存 SHR 共享内存）</td></tr><tr><td style="text-align:center;">kill PID</td><td style="text-align:left;">杀死进程</td></tr><tr><td style="text-align:center;">kill -9 PID</td><td style="text-align:left;">-9选项可以杀死整个进程组</td></tr><tr><td style="text-align:center;">ping xxx &gt;&gt;text.txt &amp;</td><td style="text-align:left;">把该指令执行的进程放到后台执行，不阻塞当前终端</td></tr><tr><td style="text-align:center;">nohup ping xxx&gt;&gt;test.txt 2&gt;&amp;1 &amp;</td><td style="text-align:left;">nohup可以防止后台进程被挂起</td></tr><tr><td style="text-align:center;">jobs</td><td style="text-align:left;">查看后台进程</td></tr></tbody></table><table><thead><tr><th style="text-align:center;">进程字段</th><th style="text-align:left;">意义</th></tr></thead><tbody><tr><td style="text-align:center;">UID</td><td style="text-align:left;">用户id</td></tr><tr><td style="text-align:center;">PID</td><td style="text-align:left;">进程id，最初始系统引导的进程PID为0</td></tr><tr><td style="text-align:center;">PPID</td><td style="text-align:left;">当前进程的父进程的id</td></tr><tr><td style="text-align:center;">CMD</td><td style="text-align:left;">对应的命令</td></tr></tbody></table><h3 id="_5-7-服务管理" tabindex="-1"><a class="header-anchor" href="#_5-7-服务管理"><span>5.7 服务管理</span></a></h3><p>- 服务本质上也是进程，但通常是<strong>长期在后台运行的守护进程</strong>（Daemon）。其独立于终端，常用于提供系统功能（如sshd、mysqld）。</p><blockquote><p>[!NOTE] 程序是蓝图，进程是蓝图的运行实例。服务是特殊类型的进程，通常随系统启动并在后台运行，等待请求。一个服务可能由一个或多个进程组成（如多进程Web服务器）。</p></blockquote><table><thead><tr><th style="text-align:center;">指令</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">chkconfig --list</td><td style="text-align:left;">查看自启动服务的信息（chkconfig用于管理自启动服务）</td></tr><tr><td style="text-align:center;">chkconfig --del 服务名</td><td style="text-align:left;">删除自启动的服务</td></tr><tr><td style="text-align:center;">systemctl list-dependencies [target]</td><td style="text-align:left;">查看自启动服务的信息</td></tr><tr><td style="text-align:center;">systemctl enable crond.service</td><td style="text-align:left;">开机启动服务 .service可以省略</td></tr><tr><td style="text-align:center;">systemctl disable crond.service</td><td style="text-align:left;">禁止开机启动</td></tr><tr><td style="text-align:center;">systemctl status crond.service</td><td style="text-align:left;">查看服务状态</td></tr><tr><td style="text-align:center;">systemctl start crond.service</td><td style="text-align:left;">启动服务</td></tr><tr><td style="text-align:center;">systemctl stop crond.service</td><td style="text-align:left;">停止服务</td></tr><tr><td style="text-align:center;">systemctl restart crond.service</td><td style="text-align:left;">重启服务</td></tr><tr><td style="text-align:center;">systemctl is-enabled crond.service</td><td style="text-align:left;">查看某个服务是否开机启动</td></tr></tbody></table><h3 id="_5-8-防火墙" tabindex="-1"><a class="header-anchor" href="#_5-8-防火墙"><span>5.8 防火墙</span></a></h3><ul><li>用于防范网络攻击，可分为硬件防火墙和软件防火墙。国家长城防火墙GFW。</li><li>选择性让网阔请求通过（iptables，firewalld）</li><li>其服务操作使用systemctl，查看规则使用iptables -L -n。其中-L表示列出规则，-n表示以数字形式展示。</li><li>本质上是保护端口</li><li>防火墙也是一个服务。</li></ul><table><thead><tr><th style="text-align:left;">指令</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">systemctl status firewalld(.service)</td><td style="text-align:center;">查看服务的状态</td></tr><tr><td style="text-align:left;">systemctl start firewalld</td><td style="text-align:center;">启用firewalld服务</td></tr><tr><td style="text-align:left;">systemctl stop firewalld</td><td style="text-align:center;">临时禁止firewalld服务，重启后恢复原本的设置</td></tr><tr><td style="text-align:left;">systemctl enable firewalld</td><td style="text-align:center;">设置永久启用firewalld服务</td></tr><tr><td style="text-align:left;">systemctl disable firewalld</td><td style="text-align:center;">设置永久禁止firewalld服务</td></tr><tr><td style="text-align:left;">firewall-cmd --add-port=80/tcp --permanent</td><td style="text-align:center;">永久添加8080端口例外(全局)</td></tr><tr><td style="text-align:left;">firewall-cmd --remove-port=80/tcp --permanent</td><td style="text-align:center;">永久删除8080端口例外(全局)</td></tr></tbody></table><h3 id="_5-9-计划任务" tabindex="-1"><a class="header-anchor" href="#_5-9-计划任务"><span>5.9 计划任务</span></a></h3><ul><li>首先需要启动crond服务</li></ul><table><thead><tr><th style="text-align:left;">指令(cron/crontab)</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">crontab -l</td><td style="text-align:center;">list，列出指定用户的计划任务列表</td></tr><tr><td style="text-align:left;">crontab -e</td><td style="text-align:center;">edit，编辑指定用户的计划任务列表</td></tr><tr><td style="text-align:left;">crontab -u</td><td style="text-align:center;">user，指定的用户名，如果不指定，则表示当前用户</td></tr><tr><td style="text-align:left;">crontab -r</td><td style="text-align:center;">remove，删除指定用户的计划任务列表</td></tr></tbody></table><ul><li>编辑任务</li></ul><table><thead><tr><th style="text-align:left;">分</th><th style="text-align:left;">时</th><th style="text-align:left;">日</th><th style="text-align:left;">月</th><th style="text-align:left;">周</th><th style="text-align:left;">命令</th></tr></thead><tbody><tr><td style="text-align:left;">1-59</td><td style="text-align:left;">0-23</td><td style="text-align:left;">1-31</td><td style="text-align:left;">1-12</td><td style="text-align:left;">0-6（0表示星期日）</td><td style="text-align:left;">执行的命令</td></tr></tbody></table><ul><li><p>计划任务的规则与格式</p><ol><li>以行为单位，一行表示一个计划</li><li>分 时 日 月 周 需要执行的命令(0 0 * * * reboot表示每天0点0分重启)</li><li>可以用正则表达式，例如每10分钟可以写为*/10 1,2,6 1-3 * * reboot</li><li><code>*</code>表示任意时间段，就是每的意思</li><li><code>-</code>表示区间，是一个范围</li><li><code>,</code>表示列出多个时段</li><li><code>/n</code>表示每隔n执行一次(*和/1都可以表示每)</li></ol></li><li><p>黑名单配置（禁止其中的用户配置计划任务）： /etc/cron.deny里写用户名，每行一个</p></li><li><p>白名单配置（允许其中的用户配置计划任务）： /etc/cron.allow里写用户名，每行一个</p></li></ul><h3 id="_5-10-设备挂载" tabindex="-1"><a class="header-anchor" href="#_5-10-设备挂载"><span>5.10 设备挂载</span></a></h3><table><thead><tr><th style="text-align:left;">指令</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">lsblk</td><td style="text-align:left;">查看块状设备的信息（Name:名称，Size:设备大小，Type:类型，MountPoint:挂载点）</td></tr><tr><td style="text-align:left;">umount 当前设备的挂载点（路径）</td><td style="text-align:left;">解除挂载</td></tr><tr><td style="text-align:left;">mount 设备原始地址 要挂载的位置路径</td><td style="text-align:left;">挂载（所有块状内存设备原始地址都在/dev/下，新地址建议放在/mnt/下）</td></tr></tbody></table><h2 id="_6-软件安装" tabindex="-1"><a class="header-anchor" href="#_6-软件安装"><span>6. 软件安装</span></a></h2><h3 id="_6-1-环境变量" tabindex="-1"><a class="header-anchor" href="#_6-1-环境变量"><span>6.1 环境变量</span></a></h3><ul><li>命令能执行的前提是内核能找到这个命令，内核首先从当前路径下找，若找不到则从环境变量开始找指定的命令，没找到就会提示没有这样的指令。</li><li>系统的环境变量路径是：/etc/profile</li><li>用户的环境变量路径是：~/.bash_profile</li><li>Linux路径与路径之间用冒号连接（Windows是分号）</li><li>修改了环境变量之后需要重新加载文件：<code>source /etc/profile</code></li></ul><h3 id="_6-2-安装方式" tabindex="-1"><a class="header-anchor" href="#_6-2-安装方式"><span>6.2 安装方式</span></a></h3><ul><li>解压直接使用</li><li>自行下载安装包安装</li><li>使用统一的软件包管理器帮助安装</li><li>源码编译安装</li></ul><h3 id="_6-3-解压安装" tabindex="-1"><a class="header-anchor" href="#_6-3-解压安装"><span>6.3 解压安装</span></a></h3><ul><li>自行选择路径，一般放到opt或者usr中(例如安装Tomcat)</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> <span class="token punctuation">..</span>.</span>
<span class="line">移动到/opt/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-4-rpm安装" tabindex="-1"><a class="header-anchor" href="#_6-4-rpm安装"><span>6.4 RPM安装</span></a></h3><ul><li>RedHat Package Manager，属于红帽的一种包管理方式</li><li>用来安装.rpm格式的软件安装包(例如安装jdk)，包管理系统简单，只需要几个命令就可以实现包的安装，升级，查询和卸载；但.rpm安装包是经过编译的，不再可以看到源代码了。</li><li>对于linux服务器上的软件包及逆行管理操作：查询、安装（更新）、卸载</li></ul><table><thead><tr><th style="text-align:left;">指令</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">rpm -qa|grep 关键词；rpm -qa 关键词</td><td style="text-align:center;">查询</td></tr><tr><td style="text-align:left;">rpm -e 软件的名称</td><td style="text-align:center;">删除</td></tr><tr><td style="text-align:left;">rpm -e 软件的名称 --nodeps</td><td style="text-align:center;">强制删除,不检查其他包是否依赖它</td></tr><tr><td style="text-align:left;">rpm -ivh 软件包名称</td><td style="text-align:center;">软件安装</td></tr><tr><td style="text-align:left;">rpm -Uvh 软件包名称</td><td style="text-align:center;">软件更新</td></tr><tr><td style="text-align:left;">rpm -qf 文件路径</td><td style="text-align:center;">查询指定文件属于哪个包</td></tr></tbody></table><ul><li>安装jdk举例</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> jdk-8.0.44.rpm</span>
<span class="line"><span class="token function">vi</span> /etc/profile</span>
<span class="line">vi<span class="token operator">&gt;</span> <span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/java/jdk1.8-amd64</span>
<span class="line">vi<span class="token operator">&gt;</span> <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span></span>
<span class="line"><span class="token builtin class-name">source</span> /etc/profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>[!NOTE] 安装完之后可能需要到/etc/profile下配置环境变量，然后重新加载文件</p></blockquote><h3 id="_6-5-yum安装" tabindex="-1"><a class="header-anchor" href="#_6-5-yum安装"><span>6.5 YUM安装</span></a></h3><ul><li>利用包管理器来管理RPM包和安装软件，一般情况下会默认安装在/usr/lib/.</li><li>无需自己寻找安装包，也无需自己管理软件/包之间的依赖关系(例如安装mysql)</li></ul><table><thead><tr><th style="text-align:left;">指令</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">yum search 软件/包名</td><td style="text-align:center;">搜索指定的关键词的包</td></tr><tr><td style="text-align:left;">yum info 软件/包名</td><td style="text-align:center;">查看包信息</td></tr><tr><td style="text-align:left;">yum list [installed]</td><td style="text-align:center;">列出所有安装的包</td></tr><tr><td style="text-align:left;">yum list 查找匹配的表达式</td><td style="text-align:center;">列出想要查找的包，eg: yum list *jdk*</td></tr><tr><td style="text-align:left;">yum install 软件/包名</td><td style="text-align:center;">安装包</td></tr><tr><td style="text-align:left;">yum update 软件/包名]</td><td style="text-align:center;">更新指定的包，不指定包则更新全部软件</td></tr><tr><td style="text-align:left;">yum remove 软件/包名</td><td style="text-align:center;">卸载指定的包</td></tr></tbody></table><ul><li>更改yum源</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"></span>
<span class="line">//将系统原始配置文件失效</span>
<span class="line"><span class="token function">mv</span> rocky.repo recky.repo.backup</span>
<span class="line"></span>
<span class="line">//获取阿里云的yum源配置文件。注意路径差异（9.x 使用 /rocky 代替 /rockylinux）</span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;s|^mirrorlist=|#mirrorlist=|g&#39;</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;s|^#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g&#39;</span> <span class="token parameter variable">-i.bak</span> /etc/yum.repos.d/rocky*.repo</span>
<span class="line"></span>
<span class="line">//清空yum源的缓存</span>
<span class="line">yum clean all</span>
<span class="line"></span>
<span class="line">获取阿里云yum的缓存</span>
<span class="line">yum makecache</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装mysql举例</li></ul><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"></span>
<span class="line"><span class="token comment">//安装相关包</span></span>
<span class="line">yum install perl net<span class="token operator">-</span>tools</span>
<span class="line">yum install libaio</span>
<span class="line"></span>
<span class="line"><span class="token comment">//解压tar包</span></span>
<span class="line">tar <span class="token operator">-</span>xvf mysql<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm<span class="token operator">-</span>bundle<span class="token punctuation">.</span>tar</span>
<span class="line"></span>
<span class="line"><span class="token comment">//依次安装rpm</span></span>
<span class="line">rpm <span class="token operator">-</span>ivh mysql<span class="token operator">-</span>community<span class="token operator">-</span>common<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm</span>
<span class="line">rpm <span class="token operator">-</span>ivh mysql<span class="token operator">-</span>community<span class="token operator">-</span>client<span class="token operator">-</span>plugins<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm</span>
<span class="line">rpm <span class="token operator">-</span>ivh mysql<span class="token operator">-</span>community<span class="token operator">-</span>libs<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm</span>
<span class="line">rpm <span class="token operator">-</span>ivh mysql<span class="token operator">-</span>community<span class="token operator">-</span>icu<span class="token operator">-</span><span class="token keyword">data</span><span class="token operator">-</span>files<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm</span>
<span class="line">rpm <span class="token operator">-</span>ivh mysql<span class="token operator">-</span>community<span class="token operator">-</span>client<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm</span>
<span class="line">rpm <span class="token operator">-</span>ivh mysql<span class="token operator">-</span>community<span class="token operator">-</span>server<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.44</span><span class="token operator">-</span><span class="token number">1.</span>el9<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm</span>
<span class="line"></span>
<span class="line"><span class="token comment">//启动mysqld服务</span></span>
<span class="line">systemctl <span class="token keyword">start</span> mysqld</span>
<span class="line"></span>
<span class="line"><span class="token comment">//找默认生成的初始密码</span></span>
<span class="line">cat <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>mysqld<span class="token punctuation">.</span>log <span class="token operator">|</span>grep password</span>
<span class="line"></span>
<span class="line"><span class="token comment">//登录</span></span>
<span class="line">mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p</span>
<span class="line"></span>
<span class="line"><span class="token comment">//改密码</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>policy<span class="token operator">=</span>LOW<span class="token punctuation">;</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;123456&#39;</span> PASSWORD EXPIRE NEVER<span class="token punctuation">;</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//查看所有库</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//查看所有表</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">user</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//修改链接地址,实现远程连接数据库，有利于数据库和服务分离。host字段为“%”表示任意主机ip。</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span><span class="token keyword">user</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host<span class="token operator">=</span><span class="token string">&#39;%&#39;</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">;</span></span>
<span class="line">mysql<span class="token operator">&gt;</span> <span class="token keyword">commit</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">systemctl restart mysqld<span class="token punctuation">.</span>service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-6-源码安装" tabindex="-1"><a class="header-anchor" href="#_6-6-源码安装"><span>6.6 源码安装</span></a></h3><ul><li><p>优点：</p><ol><li>开源，如果有足够的能力，可以修改源代码；</li><li>编译安装，更加适合自己的系统，稳定高效</li></ol></li><li><p>缺点：</p><ol><li>安装步骤较多，容易出错；</li><li>编译过程时间较长</li></ol></li><li><p>源码包安装：解包（解压缩）-&gt;配置（config/configure/bootstrap）-&gt;编译（make/bootstrapd）-&gt;安装（make install/bootstrapd install）</p></li><li><p>配置操作主要是指定软件的安装目录、需要的依赖在什么地方、指定不需要可选依赖、配置文件的路径、通用数据存储位置等等。</p></li><li><p>编译主要是用gcc编译c文件为机器文件</p></li><li><p>安装主要是根据先前的配置要求安装软件，并生成相应的指令bin目录，用户手册等</p></li></ul><table><thead><tr><th style="text-align:center;">功能</th><th style="text-align:left;">指令</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">解包</td><td style="text-align:left;">tar -zxvf *.tar.gz</td><td style="text-align:left;">-z或--gzip或--ungzip：通过gzip指令处理文件；-x或--extract或--get：从文件中还原文件；-v：显示操作过程；-f或--file：指定一个文件；</td></tr><tr><td style="text-align:center;">解包</td><td style="text-align:left;">tar -jxvf *.tar.bz2</td><td style="text-align:left;">-j：支持bzip2解压文件；；-x或--extract或--get：从文件中还原文件；-v：显示操作过程；-f或--file：指定一个文件；</td></tr><tr><td style="text-align:center;">配置</td><td style="text-align:left;">./configure --prefix=/usr/local/ncurses</td><td style="text-align:left;">指定了安装路径。指定安装的路径：--prefix=路径；需要依赖的路径：--with-PACKAGE名=[包所在的路径]；不需要依赖：--without-PACHAGE名</td></tr><tr><td style="text-align:center;">编译</td><td style="text-align:left;">make</td><td style="text-align:left;">前提是得在这个路径下</td></tr><tr><td style="text-align:center;">安装</td><td style="text-align:left;">make install</td><td style="text-align:left;">前提是得在这个路径下</td></tr><tr><td style="text-align:center;">编译且安装</td><td style="text-align:left;">make &amp;&amp; make install</td><td style="text-align:left;">前提是得在这个路径下</td></tr></tbody></table><h2 id="_7-shell编程" tabindex="-1"><a class="header-anchor" href="#_7-shell编程"><span>7. Shell编程</span></a></h2><h3 id="_7-1-shell概要" tabindex="-1"><a class="header-anchor" href="#_7-1-shell概要"><span>7.1 Shell概要</span></a></h3><ul><li><p>Shell：是一个用 C 语言编写的程序，它是用户使用 Linux 的桥梁。Kernel是Linux的内核，它主要和硬件打交道，程序员使用时直接通过Kernel操控硬件太繁琐了，所以套一层壳即shell，用户通过shell间接操作内核实现功能。</p></li><li><p>Shell本质上是一个应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。概括可以说是一个命令解释器（==command interpreter==）</p></li><li><p>Shell同时也可以看作是一种命令语言，一种程序设计语言，可以用来写脚本。</p></li><li><p>脚本：简单地说就是一条条的文字命令，这些文字命令是可以看到的（如可以用记事本打开查看、编辑）。（例如JavaScript（JS，前端），VBScript， ASP，JSP，PHP（后端），SQL（数据库操作语言），Perl，Shell，python，Ruby，JavaFX，Lua等。）脚本本身是没有状态的，需要触发才能执行。</p></li><li><p>两大主流：sh和csh</p><ol><li>sh <ul><li>Bourne shell(sh)：Solaris，hpux默认shell</li><li>Bourne again shell(bash)：Linux系统默认shell</li></ul></li><li>csh <ul><li>C shell(csh)</li><li>tc shell(tcsh)</li></ul></li></ol></li><li><p>在Linux中有很多类型的shell，不同的shell具备不同的功能，shell还决定了脚本中函数的语法，Linux中默认的shell在/bin/bash，流行的shell有ash、bash、ksh、csh、zsh等，不同的shell都有自己的特点以及用途。</p></li><li><p>大多数Linux系统默认使用的shell/就是bin/bash，它还是sh的升级版。</p></li></ul><h3 id="_7-2-编写规范" tabindex="-1"><a class="header-anchor" href="#_7-2-编写规范"><span>7.2 编写规范</span></a></h3><ul><li>代码规范</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash [指定告知系统当前这个脚本要使用的shell解释器,相当于声明]</span></span>
<span class="line">Shell相关指令</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>文件命名规范</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">文件名.sh <span class="token punctuation">[</span>.sh是linux下bash shell 的默认后缀<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>创建sh文件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">touch</span> test.sh</span>
<span class="line"><span class="token function">vim</span> test.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>编写sh文件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;helloworld&#39;</span></span>
<span class="line"><span class="token comment">#输出的内容如果包含字母和符号（不包含变量），则需要用引号包括起来。如果是纯数字可以包也可以不包。</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>执行shell脚本</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 必须得有执行权限</span></span>
<span class="line">./test.sh</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 没有执行权限时，root和文件所有者可以通过以下方式执行</span></span>
<span class="line"><span class="token function">bash</span> /oo/test.sh</span>
<span class="line"><span class="token function">sh</span> test.sh </span>
<span class="line"><span class="token builtin class-name">.</span> test.sh</span>
<span class="line"><span class="token builtin class-name">source</span> test.sh</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>[!note] 这里在运行时一定要写成 ./test.sh，而不是 test.sh，运行其它二进制的程序也一样，直接写 test.sh，Linux 系统会去 PATH（环境变量） 里寻找有没有叫 test.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 ./test.sh 告诉系统说，就在当前目录找。</p></blockquote><h3 id="_7-3-变量共享" tabindex="-1"><a class="header-anchor" href="#_7-3-变量共享"><span>7.3 变量共享</span></a></h3><ul><li>上一节执行shell脚本中前三种方法会新开一个bash（.sh），不同bash中的变量无法共享。后两种方法是在同一个shell中执行的。可以通过ps -ef查看到。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"></span>
<span class="line">//hello.sh</span>
<span class="line"><span class="token comment">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;helloworld&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$name</span></span>
<span class="line"></span>
<span class="line">//bash</span>
<span class="line"><span class="token assign-left variable">name</span><span class="token operator">=</span>libai</span>
<span class="line"><span class="token function">bash</span> hello.sh <span class="token comment"># 输出helloworld</span></span>
<span class="line"><span class="token builtin class-name">source</span> hello.sh <span class="token comment"># 输出helloworld libai</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>export可以将当前进程中的变量传递给子进程中使用。一般配置profile的时候所有的变量全部export</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"></span>
<span class="line">//hello.sh</span>
<span class="line"><span class="token comment">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;helloworld&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$name</span></span>
<span class="line"></span>
<span class="line">//bash</span>
<span class="line"><span class="token assign-left variable">name</span><span class="token operator">=</span>libai</span>
<span class="line"><span class="token builtin class-name">export</span> name</span>
<span class="line"><span class="token function">bash</span> hello.sh <span class="token comment"># 输出helloworld libai</span></span>
<span class="line"><span class="token builtin class-name">source</span> hello.sh <span class="token comment"># 输出helloworld libai</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-4-参数传递" tabindex="-1"><a class="header-anchor" href="#_7-4-参数传递"><span>7.4 参数传递</span></a></h3><ul><li>在脚本中可以用“$1”来表示第一个选项参数，“$2”来表示第二个选项，以此类推。其实$1、$2本质是变量，但是只能用，用户创建这样的用户名是不合法的。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$#</span> <span class="token comment"># 传递到脚本的参数个数</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$*</span> <span class="token comment"># 以一个单字符串显示所有向脚本传递的参数</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$0</span> <span class="token comment"># 当前脚本执行的文件名</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$1</span> <span class="token comment"># 第一个参数</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$2</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$3</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$$</span> <span class="token comment"># 脚本运行的当前进程ID号</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$?</span> <span class="token comment"># 显示命令的最后退出状态，0表示没有错误，其他任何值表示有错误</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$!</span> <span class="token comment"># 后台运行的最后一个进程的ID号</span></span>
<span class="line">./test.sh a b c</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-5-输入输出" tabindex="-1"><a class="header-anchor" href="#_7-5-输入输出"><span>7.5 输入输出</span></a></h3><ul><li>输入语法：read  -p 提示信息 变量名</li><li>输出语法：echo ...。默认输出到控制台</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#! /bin/bash</span></span>
<span class="line"><span class="token comment"># 输入</span></span>
<span class="line"><span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&#39;请输入文件名：&#39;</span> filepath</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 输出</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;helloworld&#39;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;helloworld&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;10&#39;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;20&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token number">100</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token number">10</span> <span class="token number">20</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;tmp&quot;</span> <span class="token number">123</span></span>
<span class="line"><span class="token assign-left variable">name</span><span class="token operator">=</span>zhangsan</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$name</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${name}</span> <span class="token comment"># 和上一行效果相同</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;OK <span class="token entity" title="\c">\c</span>&quot;</span> <span class="token comment">#处理所有转义字符</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;helloworld&quot;</span> <span class="token operator">&gt;</span> filename</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;helloworld&quot;</span> <span class="token operator">&gt;&gt;</span> filename</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 注释 </span></span>
<span class="line"><span class="token comment"># 井号用于单行注释</span></span>
<span class="line">:<span class="token operator">&lt;&lt;</span><span class="token string">EOF</span>
<span class="line">多行注释内容...</span>
<span class="line">多行注释内容...</span>
<span class="line">多行注释内容...</span>
<span class="line">EOF</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-6-变量" tabindex="-1"><a class="header-anchor" href="#_7-6-变量"><span>7.6 变量</span></a></h3><ul><li>变量名后面的等号左右不能有空格</li><li>当在脚本中需要执行一些指令并且将执行的结果赋给变量的时候需要使用“反引号”(指令要用反引号，变量要用$)</li><li>let 是 Bash 中用于执行整数运算的命令，支持自增、自减等操作。它允许对变量进行直接数学运算，且无需在变量前加$符号。</li><li>只读变量不能被修改，也不能删除</li><li>bash支持一维数组，不支持多维数组，并且没有限定数组的大小</li><li>数组元素的下标从0开始编号，获取数组中的元素要利用下标，下标可以时整数或者算数表达式，其值应该大于等于0。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#! /bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 变量赋值(默认相当于字符串)</span></span>
<span class="line"><span class="token assign-left variable">name</span><span class="token operator">=</span>zhangsan</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$name</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +<span class="token string">&quot;%F %T&quot;</span><span class="token variable">`</span></span>&quot;</span> <span class="token comment"># 输出变量的值用$,输出指令的结果用``</span></span>
<span class="line"><span class="token builtin class-name">let</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token builtin class-name">let</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span> <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span> <span class="token assign-left variable">c</span><span class="token operator">=</span>a+b</span>
<span class="line"><span class="token builtin class-name">echo</span> c <span class="token comment"># 输出30</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 变量自增自减</span></span>
<span class="line"><span class="token assign-left variable">counter</span><span class="token operator">=</span><span class="token number">5</span></span>
<span class="line"><span class="token builtin class-name">let</span> counter-<span class="token operator">=</span><span class="token number">1</span></span>
<span class="line"><span class="token variable"><span class="token punctuation">((</span> counter<span class="token operator">--</span> <span class="token punctuation">))</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 只读变量：readonly 变量名</span></span>
<span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token builtin class-name">readonly</span> a</span>
<span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span> <span class="token comment"># 报错</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$a</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 删除变量</span></span>
<span class="line"><span class="token builtin class-name">unset</span> name <span class="token comment"># 没有这个变量则输出空行</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 字符串</span></span>
<span class="line"><span class="token assign-left variable">str1</span><span class="token operator">=</span><span class="token string">&#39;helloworld&#39;</span></span>
<span class="line"><span class="token assign-left variable">str2</span><span class="token operator">=</span><span class="token string">&quot;helloworld&quot;</span></span>
<span class="line"><span class="token assign-left variable">str3</span><span class="token operator">=</span><span class="token string">&quot;hello <span class="token variable">$name</span>&quot;</span> <span class="token comment"># 双引号中可以解析变量</span></span>
<span class="line"><span class="token builtin class-name">echo</span> str3</span>
<span class="line"><span class="token assign-left variable">str4</span><span class="token operator">=</span><span class="token string">&#39;hello $name&#39;</span> <span class="token comment"># 单引号中不会解析变量</span></span>
<span class="line"><span class="token builtin class-name">echo</span> str4</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${str1<span class="token operator">:</span>1<span class="token operator">:</span>5}</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>str1}</span> <span class="token comment"># 输出字符串长度</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 数组</span></span>
<span class="line"><span class="token assign-left variable">favs</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;football&quot;</span> <span class="token string">&quot;basketball&quot;</span> <span class="token string">&quot;pingpang&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${favs<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>favs<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>favs}</span> <span class="token comment"># 默认时第0个元素的长度</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${favs<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> or <span class="token builtin class-name">echo</span> <span class="token variable">${favs<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>favs<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> or <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>favs<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-7-运算符" tabindex="-1"><a class="header-anchor" href="#_7-7-运算符"><span>7.7 运算符</span></a></h3><ul><li>运算符和其他编程脚本语言一样，常见的有==算数运算符==、==关系运算符==、==逻辑运算符==、==字符串运算符==、==文件测试运算符==等</li><li>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</li><li>表达式和运算符之间要有空格 <code>expr 2+2</code>不对，应该是<code>expr 2 + 2</code>，写在shell中要用反引号包起来。</li><li>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</li><li>test命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</li><li>==和-eq是一样的，但是大于小于只能用指令。</li><li>权限rwx的判断，如果只有一个部分符合，则认为是有权限的。</li></ul><blockquote><p>[!note] 除了赋值时等号两边不允许有空格，剩下情况符号周围都得空格。 |运算符|说明|举例(a=10,b=20,c=&quot;abc&quot;,d=&quot;efg&quot;, file=&quot;/etc/oo&quot;,file=&quot;/etc/oo/test.txt&quot;)| |:---😐:---|:---| |算数运算符||| |+|加法|<code>expr $a + $b</code> 结果为 30。| |-|减法|<code>expr $a - $b</code> 结果为 -10。| |*|乘法|<code>expr $a \* $b</code> 结果为  200。| |/|除法|<code>expr $b / $a</code> 结果为 2。| |%|取余|<code>expr $b % $a</code> 结果为 0。| |=|赋值|a=$b 将把变量 b 的值赋给 a。| |==|相等。用于比较两个数字，相同返回true| [ $a == $b ] 返回 false| |!=|不相等。用于比较两个数字，不相同返回true| [ $a != $b ] 返回 true。| |关系运算符||| |-eq|检测是否相等|[ $a -eq $b ] 返回 false。| |-ne|检测是否不相等|[ $a -ne $b ] 返回 true。| |-gt|是否大于|[ $a -gt $b ] 返回 false。| |-lt|是否小于|[ $a -lt $b ] 返回 true。| |-ge|是否大于等于|[ $a -ge $b ] 返回 false。| |-le|是否小于等于|[ $a -le $b ] 返回 true。| |逻辑运算符||| |!|非运算|[ ! false ] 返回 true。| |-o, |||或（或者）运算|[ $a -lt 20 -o $b -gt 100 ] 返回 true。| |-a, &amp;&amp;|与（并且）运算|[ $a -lt 20 -a $b -gt 100 ] 返回 false。| |字符串运算符||| |=|检测两个字符串是否相等|[ $c = $d ] 返回 false。| |!=|检测两个字符串是否不相等|[ $c != $d ] 返回 true。| |-z|检测字符串长度是否为0|[ -z $a ] 返回 false。| |-n|检测字符串长度是否不为0|[ -n $a ] 返回 true。| |str|检测字符串|[ $a ] 返回 true。| |文件测试运算符||| |-r file|检测文件是否可读|[ -r $file ] 返回 true。| |-w file|检测文件是否可写|[ -w $file ] 返回 true。| |-x file|检测文件是否可执行|[ -x $file ] 返回 true。| |-s file|检测文件（文件大小是否大于0）|[ -s $file ] 返回 true。| |-e file|检测文件（包括目录）是否存在|[ -e $file ] 返回 true。| |-d file|检测文件是否是目录|[ -d $file ] 返回 false。| |-f file|检测文件是否是普通文件（既不是目录，也不是设备文件）|[ -f $file ] 返回 true。| |-b file|检测文件是否是块设备文件，如果是，则返回 true。|[ -b $file ] 返回 false。| |-c file|检测文件是否是字符设备文件，如果是，则返回 true。|[ -c $file ] 返回 false。| |-g file|检测文件是否设置了 SGID 位|[ -g $file ] 返回 false。| |-k file|检测文件是否设置了粘着位(Sticky Bit)|[ -k $file ] 返回 false。| |-u file|检测文件是否设置了 SUID 位|[ -u $file ] 返回 false。| |-p file|检测文件是否是有名管道|[ -p $file ] 返回 false。|</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a=<span class="token variable">$a</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;b=<span class="token variable">$b</span>&quot;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a + b = &quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a - b = &quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a * b = &quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a / b = &quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a / $b<span class="token variable">`</span></span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;a % b = &quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a % $b<span class="token variable">`</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-8-逻辑结构" tabindex="-1"><a class="header-anchor" href="#_7-8-逻辑结构"><span>7.8 逻辑结构</span></a></h3><ul><li>if</li><li>case</li><li>for</li><li>while</li><li>break</li><li>continue</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&#39;请输入数字：&#39;</span> number</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token variable">$number</span></span>
<span class="line"><span class="token builtin class-name">echo</span></span>
<span class="line"><span class="token comment"># if then</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$number</span> <span class="token operator">==</span> <span class="token variable">$a</span> <span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">then</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token variable">$a</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#if then</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$number</span> <span class="token operator">==</span> <span class="token variable">$a</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#if elif else</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$number</span> <span class="token operator">==</span> <span class="token variable">$a</span> <span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">then</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token variable">$a</span></span>
<span class="line"><span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$number</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">then</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token variable">$b</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token variable">$number</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># test可以处理字符串的关系运算</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token parameter variable">-eq</span> $<span class="token punctuation">[</span>b<span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">then</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token variable">$a</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token variable">$b</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># case</span></span>
<span class="line"><span class="token keyword">case</span> <span class="token variable">$a</span> <span class="token keyword">in</span></span>
<span class="line"><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> A</span>
<span class="line"><span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> B</span>
<span class="line"><span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">name<span class="token punctuation">)</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> C</span>
<span class="line">	<span class="token builtin class-name">echo</span> D</span>
<span class="line">*<span class="token punctuation">)</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> error</span>
<span class="line"><span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">esac</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># for</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> name <span class="token number">120</span></span>
<span class="line"><span class="token keyword">do</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token variable">$loop</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token string">&#39;This is a string&#39;</span> <span class="token string">&quot;string2&quot;</span></span>
<span class="line"><span class="token keyword">do</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token variable">$loop</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># while</span></span>
<span class="line"><span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $a <span class="token operator">&lt;=</span> <span class="token number">5</span> <span class="token punctuation">))</span></span></span>
<span class="line"><span class="token keyword">do</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token variable">$a</span></span>
<span class="line">	<span class="token builtin class-name">let</span> <span class="token string">&quot;a++&quot;</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"><span class="token keyword">while</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token keyword">do</span></span>
<span class="line">	<span class="token function">ping</span> <span class="token number">192.168</span>.188.188</span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># break</span></span>
<span class="line"><span class="token keyword">while</span> <span class="token builtin class-name">:</span></span>
<span class="line"><span class="token keyword">do</span></span>
<span class="line">	<span class="token builtin class-name">read</span> num</span>
<span class="line">	<span class="token keyword">case</span> <span class="token variable">$num</span> <span class="token keyword">in</span></span>
<span class="line">		<span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token variable">$num</span></span>
<span class="line">		<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">		*<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> error</span>
<span class="line">			<span class="token builtin class-name">break</span></span>
<span class="line">		<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">esac</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># continue</span></span>
<span class="line"><span class="token keyword">while</span> <span class="token builtin class-name">:</span></span>
<span class="line"><span class="token keyword">do</span></span>
<span class="line">	<span class="token builtin class-name">read</span> num</span>
<span class="line">	<span class="token keyword">case</span> <span class="token variable">$num</span> <span class="token keyword">in</span></span>
<span class="line">		<span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token variable">$num</span></span>
<span class="line">		<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">		*<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> error</span>
<span class="line">			<span class="token builtin class-name">continue</span></span>
<span class="line">		<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">esac</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-9-函数" tabindex="-1"><a class="header-anchor" href="#_7-9-函数"><span>7.9 函数</span></a></h3><ul><li>用户定义函数，可以带function fun()定义，也可以直接fun()定义不带任何参数</li><li>参数返回可以显示加return 返回值，如果不加将以最后一条命令运行结果作为返回值。</li><li>return后跟数值n(0-255)</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token shebang important">#! /bin/bash</span></span>
<span class="line"><span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token string">&quot;demoFun&quot;</span></span>
<span class="line">	<span class="token builtin class-name">echo</span> <span class="token variable">$1</span> <span class="token comment"># 第一个参数</span></span>
<span class="line">	<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line">	<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span></span>
<span class="line">	<span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$a <span class="token operator">+</span> $b<span class="token variable">))</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">demoFun <span class="token number">10</span> <span class="token number">20</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-项目上线" tabindex="-1"><a class="header-anchor" href="#_10-项目上线"><span>10. 项目上线</span></a></h2><ul><li><p>流程：</p><ol><li>购买服务器</li><li>购买域名</li><li>域名备案</li><li>域名解析</li><li>配置生产环境</li><li>上传代码</li></ol></li><li><p>域名解析：将域名绑定到一个服务器地址的操作</p></li><li><p>DNS：domain name server，用于将域名转化成ip地址的服务器。</p></li></ul><p><img src="/Yanran_blog/assets/Linux%E5%9F%BA%E7%A1%80-6-CwCfItgx.png" alt="600"></p><ul><li><p>Nginx：是一款比较流行的web服务器软件，类似于Apache。</p></li><li><p>使用在服务器端下载的方式进行下载(直接发请求)：wget 地址</p></li><li><p>nginx默认也占用80端口，所以需要先把httpd停掉</p></li><li><p>启动命令：/usr/local/nginx/sbin/nginx</p></li><li><p>重载，重载配置文件后启动：/usr/local/nginx/sbin/nginx -s reload</p></li><li><p>关闭：只能kill进程</p></li><li><p>卸载编译安装的软件：rm -rf 软件的安装目录</p></li><li><p>注意：卸载一个编译安装的软件的时候必须先停止。</p></li><li><p>LAMP：Linux+Apache+MySQL+PHP</p></li><li><p>LNMP：Linux+Nginx+MySQL+PHP-fpm</p></li><li><p>LNMP：Linux+Nginx+MySQL+PHP+Apache</p></li><li><p>默认的Apache站点目录：/var/www/html，网页要展示的内容文件放在该目录下</p></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/Yanran_blog/guide/knowledge/Java%E5%9F%BA%E7%A1%80.html" aria-label="Java基础"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Java基础</span></div><!--]--></a><a class="route-link auto-link next" href="/Yanran_blog/guide/knowledge/MFC.html" aria-label="MFC"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">MFC</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/Yanran_blog/assets/app-O9I-yMSb.js" defer></script>
  </body>
</html>
